webpackJsonp([91],{"/C3n":function(e,n,t){var i=t("kxFB");n=e.exports=t("FZ+f")(!1),n.push([e.i,"\n.cont[data-v-7b777e62] {\n  overflow: hidden;\n}\n.mask[data-v-7b777e62] {\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  background: rgba(0, 0, 0, 0.3);\n}\n.title[data-v-7b777e62] {\n  background: #fff;\n  height: 1.2rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.title i[data-v-7b777e62] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+i(t("P9/e"))+") no-repeat center;\n    background-size: cover;\n}\n.title .name[data-v-7b777e62] {\n    font-size: 17px;\n}\n.title .save[data-v-7b777e62] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    height: 100%;\n    width: 1.06667rem;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    color: #2a6dc9;\n    white-space: nowrap;\n}\n.loop[data-v-7b777e62] {\n  height: 1.2rem;\n  background: #fff;\n  margin: 0.26667rem 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 0.4rem;\n}\n.loop i[data-v-7b777e62] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+i(t("b9hs"))+") no-repeat center;\n    background-size: cover;\n}\n.scheduling[data-v-7b777e62] {\n  background: #fff;\n  height: 1.73333rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 0.4rem;\n  border-bottom: 1px solid #e4e4e4;\n}\n.scheduling .day[data-v-7b777e62] {\n    background: #f4f9fc;\n    padding: 0.26667rem 0.4rem;\n}\n.scheduling i[data-v-7b777e62] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+i(t("b9hs"))+") no-repeat center;\n    background-size: cover;\n}\n.scheduling .timing[data-v-7b777e62] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    height: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n}\n.scheduling .timing p[data-v-7b777e62] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n              justify-content: space-between;\n      padding-right: 0.4rem;\n}\n.scheduling .timing .gray[data-v-7b777e62] {\n      color: #999999;\n}\n.scheduling .mt[data-v-7b777e62] {\n    margin-top: 0.26667rem;\n}\n.scheduling2[data-v-7b777e62] {\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  border-bottom: 1px solid #e4e4e4;\n  margin-bottom: 0.26667rem;\n  position: relative;\n}\n.scheduling2 .remove[data-v-7b777e62] {\n    position: absolute;\n    width: 2rem;\n    height: 100%;\n    background: red;\n    right: -2rem;\n    top: 0;\n    color: #fff;\n    font-size: 15px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.scheduling2 .day[data-v-7b777e62] {\n    background: #f4f9fc;\n    padding: 0.26667rem 0.4rem;\n}\n.scheduling2 i[data-v-7b777e62] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+i(t("b9hs"))+") no-repeat center;\n    background-size: cover;\n}\n.scheduling2 .timing[data-v-7b777e62] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    height: 1.46667rem;\n    padding: 0 0.4rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.scheduling2 .timing p[data-v-7b777e62] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n      -webkit-flex-direction: column;\n              flex-direction: column;\n      -webkit-box-pack: center;\n      -webkit-justify-content: center;\n              justify-content: center;\n}\n.scheduling2 .timing p span[data-v-7b777e62] {\n        margin-bottom: 0.06667rem;\n}\n.scheduling2 .timing .gray[data-v-7b777e62] {\n      color: #999999;\n}\n.scheduling2 .timing .isOn[data-v-7b777e62] {\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n      -webkit-flex-direction: row;\n              flex-direction: row;\n}\n.scheduling2 .timing .isOn i[data-v-7b777e62] {\n        margin-left: 0.26667rem;\n}\n.scheduling2 .mt[data-v-7b777e62] {\n    margin-top: 0.26667rem;\n}\n.scheduling[data-v-7b777e62] {\n  position: relative;\n}\n.scheduling .remove[data-v-7b777e62] {\n    position: absolute;\n    width: 2rem;\n    height: 100%;\n    background: red;\n    right: -2rem;\n    top: 0;\n    color: #fff;\n    font-size: 15px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.offset[data-v-7b777e62] {\n  left: -2rem;\n}\n.dateTime[data-v-7b777e62] {\n  margin: 0.26667rem 0;\n}\n.dateTime div[data-v-7b777e62] {\n    height: 1.2rem;\n    background: #fff;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    padding: 0 0.4rem;\n}\n.dateTime div[data-v-7b777e62]:first-child {\n      border-bottom: 1px solid #e4e4e4;\n}\n.dateTime div p[data-v-7b777e62] {\n      white-space: nowrap;\n}\n.dateTime div i[data-v-7b777e62] {\n      display: block;\n      height: 0.46667rem;\n      width: 0.26667rem;\n      background: url("+i(t("b9hs"))+') no-repeat center;\n      background-size: cover;\n}\n.dateTime div .choose[data-v-7b777e62] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n              align-items: center;\n      -webkit-box-pack: end;\n      -webkit-justify-content: flex-end;\n              justify-content: flex-end;\n}\n.dateTime div .choose input[data-v-7b777e62] {\n        background: transparent;\n        width: 3.2rem;\n        max-width: 3.73333rem;\n        text-align: right;\n}\n.dateTime div .choose input[data-v-7b777e62]::-webkit-input-placeholder {\n        text-align: right;\n}\n.dateTime div .sel[data-v-7b777e62] {\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n              flex: 1;\n}\n.dateTime div .cho .get[data-v-7b777e62] {\n      width: 1.93333rem;\n      height: 100%;\n      text-align: center;\n      color: #999;\n      line-height: 3.5;\n}\n.dateTime div .cho .timeOn[data-v-7b777e62] {\n      color: #333;\n}\n.dateTime input[type="date"][data-v-7b777e62]:before {\n    color: #A9A9A9;\n    content: attr(placeholder);\n}\n.dateTime input[type="date"].ful[data-v-7b777e62]:before {\n    color: black;\n    content: "" !important;\n}\n.dateTime input[type="time"][data-v-7b777e62]:before {\n    color: #A9A9A9;\n    content: attr(placeholder);\n}\n.dateTime input[type="time"].ful[data-v-7b777e62]:before {\n    color: black;\n    content: "" !important;\n}\n.dateTime select[data-v-7b777e62] {\n    background: transparent;\n    border: 0;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    font-size: 15px;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin-right: 0.4rem;\n}\n.dateTime .plhd[data-v-7b777e62] {\n    color: #A9A9A9;\n}\n.dateTime .flex[data-v-7b777e62] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n}\n.number[data-v-7b777e62] {\n  height: 1.2rem;\n  background: #fff;\n  margin: 0.26667rem 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 0.4rem;\n}\n.number i[data-v-7b777e62] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url('+i(t("b9hs"))+") no-repeat center;\n    background-size: cover;\n}\n.number input[data-v-7b777e62] {\n    text-align: right;\n    padding-right: 0.4rem;\n}\n.number input[data-v-7b777e62]::-webkit-input-placeholder {\n    color: #A9A9A9;\n}\n.number p[data-v-7b777e62] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: end;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n}\n.number .plhd[data-v-7b777e62] {\n    color: #ececec;\n}\n.isLoop[data-v-7b777e62] {\n  background: #fff;\n  height: 1.73333rem;\n  padding: 0 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.isLoop p[data-v-7b777e62] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n            flex-direction: column;\n}\n.isLoop p .weui-cell[data-v-7b777e62] {\n      padding: 0;\n}\n.isLoop .gray[data-v-7b777e62] {\n    color: #999999;\n    font-size: 13px;\n    margin-top: 0.10667rem;\n}\nbutton[data-v-7b777e62] {\n  width: 7.46667rem;\n  margin: 2rem auto 0 auto;\n  height: 1.2rem;\n  display: block;\n  color: #fff;\n  background: #2a6dc9;\n  border-radius: 30px;\n}\nbutton.delete[data-v-7b777e62] {\n  margin-top: 0.53333rem;\n  margin-bottom: 0.53333rem;\n}\n.week[data-v-7b777e62] {\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 1.06667rem;\n  line-height: 1.06667rem;\n  margin-bottom: 0.26667rem;\n}\n.week span[data-v-7b777e62] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    text-align: center;\n}\n.week .on[data-v-7b777e62] {\n    color: #2a6dc9;\n}\n.tip[data-v-7b777e62] {\n  background: #f4f9fc;\n  height: 1.06667rem;\n  line-height: 1.06667rem;\n  padding: 0 0.4rem;\n  color: #A9A9A9;\n}\n.mb[data-v-7b777e62] {\n  margin: 0 0 0.26667rem 0;\n}\n.vux-picker[data-v-7b777e62] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 4;\n}\n.pickerTitle[data-v-7b777e62] {\n  background: #fff;\n  height: 40px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 0 0.4rem;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  position: fixed;\n  bottom: 235px;\n  left: 0;\n  right: 0;\n  z-index: 4;\n}\n.pickerTitle span[data-v-7b777e62]:last-child {\n    color: #2a6dc9;\n}\n",""])},"2gOC":function(e,n,t){var i=t("/C3n");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("ec5b6852",i,!0,{})},QITm:function(e,n,t){"use strict";function i(e){t("2gOC")}Object.defineProperty(n,"__esModule",{value:!0});var a=t("pKZN"),s=(a.a,{components:{back:a.a},data:function(){return{time1:"",time2:"",number:"",loop:!1,Id:"",weekDay:"",weekDays:["周一","周二","周三","周四","周五","周六","周日"],timing:[{val:"m",name:"上午"},{val:"a",name:"下午"},{val:"e",name:"晚上"}],time:"",user:this.$store.state.userInfo.Data,list:[[],["00","30"]],arr:[],flag:!1,showConfirm:!1,FaceId:this.$store.state.FaceId}},watch:{time:function(e){switch(e){case"m":this.list[0]=["07","08","09","10","11","12"];break;case"a":this.list[0]=["12","13","14","15","16","17","18"];break;case"e":this.list[0]=["18","19","20","21","22"]}}},computed:{isDisable:function(){return!(this.time1&&this.time2&&this.number&&this.weekDay)}},created:function(){this.$route.query.id&&(this.Id=this.$route.query.id,this.pull())},methods:{save:function(){var e=this,n=(new Date(this.date),"m"==this.time?"上午":"a"==this.time?"下午":"e"==this.time?"晚上":""),t=this.loop?1:0;this.$post("AppointmentAPI/FaceConsultation/SaveDoctorCycleDuty",this.$pick({CycleDutyId:this.Id,DrId:this.user.User.DoctorId,DrName:this.user.User.DoctorName,FaceConsultationAddressId:this.FaceId,WeekDay:this.weekDay,StartTime:this.time1,EndTime:this.time2,Nums:this.number,IsOn:t,TimePeriod:n})).then(function(n){e.$toast("修改成功"),e.$router.back()})},deleteSch:function(){var e=this;this.$post("AppointmentAPI/FaceConsultation/DelDoctorCycleDuty",{DrId:this.user.User.DoctorId,CycleDutyId:this.Id}).then(function(n){e.$toast("已删除该循环排班"),e.$router.back()})},change:function(e){this.loop=e},pull:function(){var e=this;this.$get("AppointmentAPI/FaceConsultation/GetDoctorCycleDuty",{CycleDutyId:this.$route.query.id}).then(function(n){1==n.TimePeriod?e.time="m":2==n.TimePeriod?e.time="a":3==n.TimePeriod&&(e.time="e"),e.time1=n.StartTime,e.time2=n.EndTime,e.number=n.Nums,e.loop=0!==n.IsOn,e.weekDay=n.WeekDay})},changeTime:function(){"m"===this.time?"12"==this.arr[0]?(this.list[1]=["00"],this.list=[this.list[0],["00"]]):this.list=[this.list[0],["00","30"]]:"a"===this.time?"18"==this.arr[0]?(this.list[1]=["00"],this.list=[this.list[0],["00"]]):this.list=[this.list[0],["00","30"]]:"22"==this.arr[0]?(this.list[1]=["00"],this.list=[this.list[0],["00"]]):this.list=[this.list[0],["00","30"]],"start"===this.flag?this.time1=this.arr.join(":"):this.time2=this.arr.join(":")},getTime:function(e){this.flag=e,this.arr=[this.list[0][0],this.list[1][0]],this.list=[this.list[0],["00","30"]],"m"===this.time?"start"===this.flag?this.time1="07:00":this.time2="07:00":"a"===this.time?"start"===this.flag?this.time1="12:00":this.time2="12:00":"e"===this.time&&("start"===this.flag?this.time1="18:00":this.time2="18:00")},reset:function(){this.time1=null,this.time2=null}}}),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"pdt"},[t("div",{staticClass:"title"},[t("back"),e._v(" "),t("span",{staticClass:"name"},[e._v("编辑循环排班")]),e._v(" "),t("span",{staticClass:"save",on:{click:function(n){e.showConfirm=!0}}},[e._v("删除")])],1),e._v(" "),t("p",{staticClass:"tip"},[e._v("修改循环排班后，不影响已生成的排班")]),e._v(" "),t("div",{staticClass:"dateTime mb"},[t("div",[t("p",[e._v("接诊周期")]),e._v(" "),t("p",{staticClass:"choose sel"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.weekDay,expression:"weekDay"}],class:{plhd:!e.number},attrs:{dir:"rtl"},on:{change:[function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.weekDay=n.target.multiple?t:t[0]},e.reset]}},[t("option",{staticStyle:{display:"none"},attrs:{value:"",disabled:"",selected:""}},[e._v("\n                            请设置周期\n                        ")]),e._v(" "),e._l(e.weekDays,function(n,i){return t("option",{key:i,domProps:{value:i+1}},[e._v("\n                            "+e._s(n)+"\n                        ")])})],2),e._v(" "),t("i")])]),e._v(" "),t("div",[t("p",[e._v("接诊时间")]),e._v(" "),t("p",{staticClass:"choose",class:{flex:!e.time}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],class:{plhd:!e.time},attrs:{dir:"rtl"},on:{change:[function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.time=n.target.multiple?t:t[0]},e.reset]}},[t("option",{staticStyle:{display:"none"},attrs:{value:"",disabled:"",selected:""}},[e._v("\n                            请选择时间段\n                        ")]),e._v(" "),e._l(e.timing,function(n,i){return t("option",{key:i,domProps:{value:n.val}},[e._v("\n                            "+e._s(n.name)+"\n                        ")])})],2)]),e._v(" "),e.time?t("p",{staticClass:"choose cho"},[t("span",{staticClass:"get",class:{timeOn:e.time1},on:{click:function(n){e.getTime("start")}}},[e._v("\n                        "+e._s(e.time1||"开始时间")+"\n                    ")]),e._v("\n                    -\n                    "),t("span",{staticClass:"get",class:{timeOn:e.time2},on:{click:function(n){e.getTime("end")}}},[e._v("\n                        "+e._s(e.time2||"结束时间")+"\n                    ")])]):e._e(),e._v(" "),t("i")])]),e._v(" "),t("div",{staticClass:"number"},[t("span",[e._v("接诊人数")]),e._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],attrs:{type:"number",placeholder:"请输入人数"},domProps:{value:e.number},on:{input:function(n){n.target.composing||(e.number=n.target.value)}}}),e._v(" "),t("i")])]),e._v(" "),t("div",{staticClass:"isLoop"},[e._m(0),e._v(" "),t("p",[t("group",[t("x-switch",{attrs:{title:"",value:e.loop,disabled:!0},on:{"on-change":e.change}})],1)],1)]),e._v(" "),t("button",{attrs:{disabled:e.isDisable},on:{click:e.save}},[e._v("提交排班")]),e._v(" "),e.time&&e.flag?t("picker",{attrs:{data:e.list},on:{"on-change":e.changeTime},model:{value:e.arr,callback:function(n){e.arr=n},expression:"arr"}}):e._e(),e._v(" "),e.time&&e.flag?t("div",{staticClass:"mask",on:{click:function(n){e.flag=!1}}}):e._e(),e._v(" "),t("confirm",{attrs:{"confirm-text":"确定",title:"确定删除该排班吗？"},on:{"on-cancel":function(n){e.showConfirm=!1},"on-confirm":e.deleteSch},model:{value:e.showConfirm,callback:function(n){e.showConfirm=n},expression:"showConfirm"}})],1)},r=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",[t("span",[e._v("循环排班")]),e._v(" "),t("span",{staticClass:"gray"},[e._v("开启后，将按周自动生成")])])}],l={render:o,staticRenderFns:r},c=l,d=t("VU/8"),b=i,m=d(s,c,!1,b,"data-v-7b777e62",null);n.default=m.exports}});