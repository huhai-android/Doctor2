webpackJsonp([123],{RqtG:function(t,e,a){"use strict";function n(t){a("aIPN")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("pKZN"),r=(i.a,{components:{back:i.a},data:function(){return{top:88/75*1+"rem",arr:[],show:!1,FieldType:"",MFItemId:"",deleteShow:!1,DrId:null==this.$store.state.userInfo?18:this.$store.state.userInfo.Data.User.DoctorId,h404:!0,OrgIds:null==this.$store.state.userInfo?1:this.$store.state.userInfo.Data.User.OrgId[0],start:this.$route.params.start,id:this.$route.query.id,title:"编辑分组",manStart:!1,MFItemArr:[],MFItemName:"",mFNames:this.$store.state.mFItemNames,mName:[]}},created:function(){this.httpStart(),"1"==this.start?(this.title="编辑分组",this.manStart=!0):(this.title="选择分组",this.manStart=!1),this.mFNames&&(-1==this.mFNames.indexOf(",")?this.mName.push(this.mFNames):this.mName=this.mFNames.split(","))},mounted:function(){},methods:{setStyle:function(){var t=this;this.arr.map(function(e,a){t.mName.map(function(n,i){e.MFItemId==n&&(t.arr[a].checkedNames="success",t.MFItemArr.push(t.arr[a]))})})},grouapsFn:function(t,e,a){this.$router.push({path:"/patient/managementDelete?Diff=2&MFItemId="+t+"&MFItemName="+e+"&Description="+a})},esc:function(){this.show=!1},addPatientFn:function(){var t=this;if(0==this.MFItemArr.length)return this.$toast("请选择分组");var e={};if(void 0==this.id)return this.$toast("请选择分组");var a=[];this.MFItemArr.forEach(function(t){a.push({MFItemId:t.MFItemId,MFItemName:t.MFItemName})}),e.parameter={DrId:this.DrId,PatientId:this.id,MemberfeaturesItems:a},e.url="/PlatFormAPI/Memberfeatures/BacthPatientMemberfeaturesRecord",this.$post(e.url,e.parameter).then(function(e){e&&t.$router.back()})},circleFn:function(t,e){var a=this;"circle"==this.arr[t].checkedNames?(this.MFItemArr.push(e),this.arr[t].checkedNames="success"):(this.MFItemArr.map(function(t,n){e.MFItemName==t.MFItemName&&a.MFItemArr.splice(n,1)}),this.arr[t].checkedNames="circle")},httpStart:function(){var t=this,e={};e.url="/PlatFormAPI/Memberfeatures/QueryDrRecordCountByDrId",e.parameter={DrId:this.DrId},this.$get(e.url,e.parameter).then(function(e){null!=e&&(t.h404=!1),e&&e.map(function(t,a){e[a].checkedNames="circle"}),t.arr=e,t.setStyle()})},grouapsDetele:function(t,e,a){console.log(t),this.show=!0,this.FieldType=t,this.MFItemId=e,this.MFItemName=a},grouapsDeteleDialog:function(){var t=this,e={};e.url="/PlatFormAPI/Memberfeatures/DelMemberfeaturesItem",e.parameter={DrId:this.DrId,FieldType:this.FieldType,MFItemId:this.MFItemId},this.$get(e.url,e.parameter).then(function(e){t.show=!1,e&&(t.deleteShow=!0,t.httpStart())})}}}),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main pdt",attrs:{id:"man"}},[a("div",{staticClass:"title"},[a("back"),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.title))]),t._v(" "),a("a")],1),t._v(" "),t.manStart?a("div",{staticClass:"man-grid"},[t._l(t.arr,function(e){return a("div",{staticClass:"item"},[a("div",{staticClass:"left",on:{click:function(a){t.grouapsFn(e.MFItemId,e.MFItemName,e.Description)}}},[t._m(0,!0),a("span",{staticClass:"txt"},[t._v(t._s(e.MFItemName)+" （"+t._s(e.PatientTotal)+"）")])]),t._v(" "),a("div",{staticClass:"right",on:{click:function(a){t.grouapsDetele(e.FieldType,e.MFItemId,e.MFItemName)}}},[a("span",[t._v("删除")])])])}),t._v(" "),t.h404?a("div",{staticClass:"h404"},[t._v("\n\t\t\t\t暂无数据\n\t\t\t")]):t._e()],2):a("div",{staticClass:"man-grid"},[t._l(t.arr,function(e,n){return a("div",{key:n,staticClass:"item",on:{click:function(a){t.circleFn(n,e)}}},[a("div",{staticClass:"left"},[t._m(1,!0),a("span",{staticClass:"txt"},[t._v(t._s(e.MFItemName))])]),t._v(" "),a("div",{staticClass:"right"},[a("icon",{attrs:{type:e.checkedNames}})],1)])}),t._v(" "),t.h404?a("div",{staticClass:"h404"},[t._v("\n\t\t\t\t暂无数据\n\t\t\t")]):t._e()],2),t._v(" "),t.manStart?t._e():a("span",{staticClass:"btn",on:{click:function(e){t.addPatientFn()}}},[t._v("完成")]),t._v(" "),a("x-dialog",{staticClass:"invitorMask",attrs:{"hide-on-blur":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"weui-dialog__hd"},[a("strong",{staticClass:"weui-dialog__title"},[t._v("操作提示")])]),t._v(" "),a("div",{staticClass:"weui-dialog__bd"},[a("p",{staticStyle:{"text-align":"center"}},[t._v("是否删除"+t._s(t.MFItemName)+"分组？")])]),t._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:function(e){t.esc()}}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:function(e){t.grouapsDeteleDialog()}}},[t._v("确定")])])]),t._v(" "),a("toast",{attrs:{name:"show",time:1e3},model:{value:t.deleteShow,callback:function(e){t.deleteShow=e},expression:"deleteShow"}},[t._v("删除成功")])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span"),a("span"),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span"),a("span"),a("span")])}],d={render:s,staticRenderFns:o},l=d,c=a("VU/8"),m=n,h=c(r,l,!1,m,"data-v-4a48bd06",null);e.default=h.exports},aIPN:function(t,e,a){var n=a("s/78");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("3287429a",n,!0,{})},"s/78":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'\n@charset "UTF-8";\n.vux-patient-header[data-v-4a48bd06] {\n  position: relative;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n.vux-patient-header-back[data-v-4a48bd06] {\n  color: #3069cf;\n}\n.vux-patient-header .vux-patient-header-left[data-v-4a48bd06], .vux-patient-header .vux-patient-header-right[data-v-4a48bd06] {\n  position: absolute;\n  top: 0.38667rem;\n  display: block;\n  font-size: 16px;\n  line-height: 1;\n  color: #666;\n}\n.vux-patient-header .vux-patient-header-left[data-v-4a48bd06] {\n  left: 0.53333rem;\n}\n.vux-patient-header-title-area[data-v-4a48bd06], .vux-patient-header .vux-patient-header-title[data-v-4a48bd06] {\n  margin: 0 0.53333rem;\n  height: 1.17333rem;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.vux-patient-header .vux-patient-header-title[data-v-4a48bd06] {\n  line-height: 1.17333rem;\n  text-align: center;\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n}\n.vux-patient-header .vux-patient-header-right[data-v-4a48bd06] {\n  right: 0.53333rem;\n}\n.vux-flexbox[data-v-4a48bd06] {\n  padding: 0 0.53333rem;\n  background-color: #fff;\n}\n.flex-demo[data-v-4a48bd06] {\n  text-align: center;\n}\n.vux-flexbox-item[data-v-4a48bd06] {\n  border-top: 1px solid #f4f4f4;\n  padding-top: 0.53333rem;\n  padding-bottom: 0.33333rem;\n  font-size: 14px;\n}\n#patient .vux-search-box[data-v-4a48bd06] {\n  padding: 0.32rem 0 !important;\n}\n/*搜索更改*/\n.clearfix[data-v-4a48bd06]:before,\n.clearfix[data-v-4a48bd06]:after {\n  content: " ";\n  display: table;\n}\n.clearfix[data-v-4a48bd06]:after {\n  clear: both;\n}\n/**\r\n * For IE 6/7 only\r\n */\n.clearfix[data-v-4a48bd06] {\n  *zoom: 1;\n}\n.weui-icon-circle[data-v-4a48bd06], .weui-icon-success[data-v-4a48bd06] {\n  font-size: 13px;\n}\n.h404[data-v-4a48bd06] {\n  text-align: center;\n  background-color: #fff;\n  padding-top: 0.4rem;\n}\n#man .vux-header .vux-header-right a[data-v-4a48bd06] {\n  color: #3069cf;\n  font-size: 15px;\n}\n.btn[data-v-4a48bd06] {\n  width: 7.46667rem;\n  height: 1.06667rem;\n  display: block;\n  text-align: center;\n  line-height: 1.06667rem;\n  margin: 0 auto;\n  border-radius: 0.66667rem;\n  background-color: #3069cf;\n  color: #fff;\n  font-size: 17px;\n  margin-top: 1.2rem;\n}\n.man-grid[data-v-4a48bd06] {\n  margin-top: 0.26667rem;\n  background-color: #fff;\n  padding: 0 0.53333rem 0.4rem 0.53333rem;\n}\n.man-grid .item[data-v-4a48bd06] {\n    padding-top: 0.4rem;\n    padding-bottom: 0.4rem;\n    border-bottom: 1px solid #f4f4f4;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.man-grid .item span[data-v-4a48bd06] {\n      display: block;\n}\n.man-grid .item .left[data-v-4a48bd06] {\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n      flex: 1;\n      color: #343434;\n      font-size: 15px;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n}\n.man-grid .item .left .icon span[data-v-4a48bd06] {\n        display: block;\n        width: 0.53333rem;\n        height: 0.05333rem;\n        background-color: #ccc;\n        margin-bottom: 0.10667rem;\n}\n.man-grid .item .left .icon span[data-v-4a48bd06]:last-child {\n        margin-bottom: 0;\n}\n.man-grid .item .left .txt[data-v-4a48bd06] {\n        line-height: 1;\n        margin-left: 0.58667rem;\n}\n.man-grid .item .right[data-v-4a48bd06] {\n      position: relative;\n      font-size: 13px;\n}\n.man-grid .item .right span[data-v-4a48bd06] {\n        color: #666666;\n        line-height: 0.53333rem;\n        width: 1.17333rem;\n        height: 0.53333rem;\n        background-color: #eeeeee;\n        color: #666;\n        font-size: 12px;\n        text-align: center;\n        border-radius: 0.10667rem;\n}\n.man-grid .item img[data-v-4a48bd06] {\n      height: 0.32rem;\n      position: absolute;\n      right: 0;\n      top: 50%;\n      margin-top: -0.16rem;\n}\n.man-grid .item[data-v-4a48bd06]:last-child {\n    padding-bottom: 0;\n    border-bottom: 0px solid;\n}\n',""])}});