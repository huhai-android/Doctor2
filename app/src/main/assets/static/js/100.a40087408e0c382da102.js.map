{"version":3,"sources":["webpack:///static/js/100.a40087408e0c382da102.js","webpack:///./src/style/page/usu-detail.scss?30ef","webpack:///./src/style/page/usu-detail.scss","webpack:///./src/page/Pharmacy/usup-detail.vue?2395","webpack:///./src/page/Pharmacy/usup-detail.vue","webpack:///./src/page/Pharmacy/usup-detail.vue?fd90"],"names":["webpackJsonp","jqK6","module","exports","__webpack_require__","content","i","locals","ku5p","escape","push","lgXj","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","back","components","data","id","this","$route","query","ListDetails","Diagnoses","user","$store","state","userInfo","showConfirm","popIdx","timer","created","setInterval","$bridge","registerhandler","responseCallback","$refs","pullFlag","$post","Id","then","o","dispatch","upList","saveFlag","console","log","beforeDestroy","clearInterval","methods","pop","idx","modify","$router","toUm","save","length","$toast","list","forEach","v","obj","MedicationId","UsageTimeId","UsageTime","UsageMethodId","UsageMethod","PackageUnitId","PackageUnit","DayDosageId","DayDosage","Dosage","DosageUnitId","DosageUnit","Quantity","Remark","DosageDaysId","DosageDays","$pick","DoctorId","Data","User","OrgId","confirm","splice","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","_v","on","directives","name","rawName","expression","domProps","$event","target","composing","_l","key","_s","Name","Specification","_e","MedicationCompanyName","model","callback","$$v","staticRenderFns","esExports","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/100.a40087408e0c382da102.js","sourcesContent":["webpackJsonp([100],{\n\n/***/ \"jqK6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"ku5p\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"de512c4a\", content, true, {});\n\n/***/ }),\n\n/***/ \"ku5p\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar escape = __webpack_require__(\"L4zZ\");\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.title[data-v-6a605194]{background:#fff;height:1.2rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center\\n}\\n.title i[data-v-6a605194]{display:block;height:.46667rem;width:.26667rem;background:url(\" + escape(__webpack_require__(\"P9/e\")) + \") no-repeat center;background-size:cover\\n}\\n.title .name[data-v-6a605194]{font-size:17px\\n}\\n.diagnosis[data-v-6a605194]{background:#fff;padding:.4rem;margin:.26667rem 0\\n}\\n.diagnosis p[data-v-6a605194]{height:.66667rem;line-height:.66667rem;font-size:15px;color:#656565;text-align:center\\n}\\n.diagnosis input[data-v-6a605194]{height:.8rem;background:#f4f4f4;width:100%;border-radius:20px;padding:0 .4rem;margin:.26667rem 0\\n}\\n.diagnosis .main[data-v-6a605194]{border:1px solid red\\n}\\n.prescription[data-v-6a605194]{background:#fff;padding:.4rem\\n}\\n.prescription h2[data-v-6a605194]{font-weight:bold\\n}\\n.prescription .med[data-v-6a605194]{padding:.26667rem 0\\n}\\n.prescription .med p[data-v-6a605194]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.13333rem 0\\n}\\n.prescription .operate[data-v-6a605194]{padding:.26667rem 0 0;display:-webkit-box;display:-webkit-flex;display:flex\\n}\\n.prescription .operate span[data-v-6a605194]{display:block;width:2.13333rem;height:.86667rem;line-height:.86667rem;border:1px solid #2a6dc9;color:#2a6dc9;text-align:center;border-radius:20px;margin-right:.26667rem\\n}\\n.prescription .gray[data-v-6a605194]{color:#626262\\n}\\n.prescription .btn[data-v-6a605194]{width:90%;height:1.2rem;line-height:1.2rem;text-align:center;color:#fff;background:#2a6dc9;margin:auto;border-radius:30px;margin-top:.93333rem\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/project/NetHosp/xqdMedical/src/style/page/usu-detail.scss\"],\"names\":[],\"mappings\":\";AACA,wBAAwB,gBAAgB,cAAc,oBAAoB,qBAAqB,aAAa,yBAAyB,sCAAsC,8BAA8B,yBAAyB,2BAA2B,kBAAkB;CAC9Q;AACD,0BAA0B,cAAc,iBAAiB,gBAAgB,0DAAoD,qBAAqB;CACjJ;AACD,8BAA8B,cAAc;CAC3C;AACD,4BAA4B,gBAAgB,cAAc,kBAAkB;CAC3E;AACD,8BAA8B,iBAAiB,sBAAsB,eAAe,cAAc,iBAAiB;CAClH;AACD,kCAAkC,aAAa,mBAAmB,WAAW,mBAAmB,gBAAgB,kBAAkB;CACjI;AACD,kCAAkC,oBAAoB;CACrD;AACD,+BAA+B,gBAAgB,aAAa;CAC3D;AACD,kCAAkC,gBAAgB;CACjD;AACD,oCAAoC,mBAAmB;CACtD;AACD,sCAAsC,oBAAoB,qBAAqB,aAAa,yBAAyB,sCAAsC,8BAA8B,mBAAmB;CAC3M;AACD,wCAAwC,sBAAsB,oBAAoB,qBAAqB,YAAY;CAClH;AACD,6CAA6C,cAAc,iBAAiB,iBAAiB,sBAAsB,yBAAyB,cAAc,kBAAkB,mBAAmB,sBAAsB;CACpN;AACD,qCAAqC,aAAa;CACjD;AACD,oCAAoC,UAAU,cAAc,mBAAmB,kBAAkB,WAAW,mBAAmB,YAAY,mBAAmB,oBAAoB;CACjL\",\"file\":\"usu-detail.scss\",\"sourcesContent\":[\"\\n.title[data-v-6a605194]{background:#fff;height:1.2rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center\\n}\\n.title i[data-v-6a605194]{display:block;height:.46667rem;width:.26667rem;background:url(\\\"~assets/back.png\\\") no-repeat center;background-size:cover\\n}\\n.title .name[data-v-6a605194]{font-size:17px\\n}\\n.diagnosis[data-v-6a605194]{background:#fff;padding:.4rem;margin:.26667rem 0\\n}\\n.diagnosis p[data-v-6a605194]{height:.66667rem;line-height:.66667rem;font-size:15px;color:#656565;text-align:center\\n}\\n.diagnosis input[data-v-6a605194]{height:.8rem;background:#f4f4f4;width:100%;border-radius:20px;padding:0 .4rem;margin:.26667rem 0\\n}\\n.diagnosis .main[data-v-6a605194]{border:1px solid red\\n}\\n.prescription[data-v-6a605194]{background:#fff;padding:.4rem\\n}\\n.prescription h2[data-v-6a605194]{font-weight:bold\\n}\\n.prescription .med[data-v-6a605194]{padding:.26667rem 0\\n}\\n.prescription .med p[data-v-6a605194]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.13333rem 0\\n}\\n.prescription .operate[data-v-6a605194]{padding:.26667rem 0 0;display:-webkit-box;display:-webkit-flex;display:flex\\n}\\n.prescription .operate span[data-v-6a605194]{display:block;width:2.13333rem;height:.86667rem;line-height:.86667rem;border:1px solid #2a6dc9;color:#2a6dc9;text-align:center;border-radius:20px;margin-right:.26667rem\\n}\\n.prescription .gray[data-v-6a605194]{color:#626262\\n}\\n.prescription .btn[data-v-6a605194]{width:90%;height:1.2rem;line-height:1.2rem;text-align:center;color:#fff;background:#2a6dc9;margin:auto;border-radius:30px;margin-top:.93333rem\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"lgXj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/back.vue + 3 modules\nvar back = __webpack_require__(\"pKZN\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.5@babel-loader/lib!./node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=script&index=0!./src/page/Pharmacy/usup-detail.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var usup_detail = ({\n    components: {\n        back: back[\"a\" /* default */]\n    },\n    data: function data() {\n        return {\n            id: this.$route.query.id,\n            ListDetails: [],\n            Diagnoses: null,\n            user: this.$store.state.userInfo,\n            showConfirm: false,\n            popIdx: null,\n            timer: null\n        };\n    },\n    created: function created() {\n        var _this = this;\n\n        this.timer = setInterval(function () {\n            _this.$bridge.registerhandler('confirmBack', function (data, responseCallback) {\n                responseCallback('cantBack');\n                _this.$refs.back.back();\n            });\n        }, 50);\n        var pullFlag = this.$store.state.pullFlag;\n\n        if (this.id && !pullFlag) {\n            this.$post('Prescription/Prescription/GetPrescriptionOftenUsed', {\n                Id: this.id\n            }).then(function (o) {\n                _this.$store.dispatch('pushpullFlag', 1);\n                _this.Diagnoses = o.Diagnoses;\n                _this.ListDetails = o.ListDetails;\n            });\n        } else {\n            var _$store$state = this.$store.state,\n                upList = _$store$state.upList,\n                Diagnoses = _$store$state.Diagnoses,\n                saveFlag = _$store$state.saveFlag;\n\n            this.ListDetails = upList;\n            this.Diagnoses = Diagnoses;\n        }\n        console.log(this.$store.state.upList);\n    },\n    beforeDestroy: function beforeDestroy() {\n        clearInterval(this.timer);\n        this.$store.dispatch('pushupList', this.ListDetails);\n        this.$store.dispatch('pushDiagnoses', this.Diagnoses);\n    },\n\n    methods: {\n        pop: function pop(idx) {\n            this.showConfirm = true;\n            this.popIdx = idx;\n        },\n        modify: function modify(idx) {\n            this.$store.dispatch('pushcMed', this.ListDetails[idx]);\n            this.$router.push('/modifyCon?idx=' + idx + '&&back=-1');\n        },\n        toUm: function toUm() {\n            this.$store.dispatch('pushisUp', 0);\n            this.$store.dispatch('pushisShowXC', true);\n            this.$router.push('/pharmacy?from=up');\n        },\n        save: function save() {\n            var _this2 = this;\n\n            this.$store.dispatch('pushpullFlag', 0);\n            if (!this.ListDetails.length) {\n                return this.$toast('请添加药品');\n            }\n            if (!this.Diagnoses) {\n                return this.$toast('请填写临床诊断');\n            }\n            if (!this.ListDetails) {\n                return this.$toast('请选择药品');\n            }\n            var list = [];\n            this.ListDetails.forEach(function (v) {\n                var obj = {};\n                obj.MedicationId = v.Id;\n                obj.UsageTimeId = v.UsageTimeId;\n                obj.UsageTime = v.UsageTime;\n                obj.UsageMethodId = v.UsageMethodId;\n                obj.UsageMethod = v.UsageMethod;\n                obj.PackageUnitId = v.PackageUnitId;\n                obj.PackageUnit = v.PackageUnit;\n                obj.DayDosageId = v.DayDosageId;\n                obj.DayDosage = v.DayDosage;\n                obj.Dosage = v.Dosage;\n                obj.DosageUnitId = v.DosageUnitId;\n                obj.DosageUnit = v.DosageUnit;\n                obj.Quantity = v.Quantity;\n                obj.Remark = v.Remark;\n                obj.DosageDaysId = v.DosageDaysId, obj.DosageDays = v.DosageDays;\n                list.push(obj);\n            });\n            this.$post('Prescription/Prescription/SavePrescriptionOftenUsed', this.$pick({\n                id: this.$route.query.id,\n                DoctorId: this.user.Data.User.DoctorId,\n                OrgId: this.user.Data.User.OrgId,\n                Diagnoses: this.Diagnoses,\n                ListDetails: list\n            })).then(function (o) {\n                _this2.ListDetails = null;\n                _this2.Diagnoses = '';\n\n                _this2.$store.dispatch('pushisShowXC', false);\n                _this2.$store.dispatch('pushisUp', 1);\n                _this2.$store.dispatch('pushpullTemp', 0);\n\n                _this2.$router.push('/pharmacy?back=2');\n            });\n        },\n        confirm: function confirm() {\n            this.ListDetails.splice(this.popIdx, 1);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.5@babel-loader/lib!./node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=script&index=0!./src/page/Pharmacy/usup-detail.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var Pharmacy_usup_detail = ({\n    components: {\n        back: back[\"a\" /* default */]\n    },\n    data: function data() {\n        return {\n            id: this.$route.query.id,\n            ListDetails: [],\n            Diagnoses: null,\n            user: this.$store.state.userInfo,\n            showConfirm: false,\n            popIdx: null,\n            timer: null\n        };\n    },\n    created: function created() {\n        var _this = this;\n\n        this.timer = setInterval(function () {\n            _this.$bridge.registerhandler('confirmBack', function (data, responseCallback) {\n                responseCallback('cantBack');\n                _this.$refs.back.back();\n            });\n        }, 50);\n        var pullFlag = this.$store.state.pullFlag;\n\n        if (this.id && !pullFlag) {\n            this.$post('Prescription/Prescription/GetPrescriptionOftenUsed', {\n                Id: this.id\n            }).then(function (o) {\n                _this.$store.dispatch('pushpullFlag', 1);\n                _this.Diagnoses = o.Diagnoses;\n                _this.ListDetails = o.ListDetails;\n            });\n        } else {\n            var _$store$state = this.$store.state,\n                upList = _$store$state.upList,\n                Diagnoses = _$store$state.Diagnoses,\n                saveFlag = _$store$state.saveFlag;\n\n            this.ListDetails = upList;\n            this.Diagnoses = Diagnoses;\n        }\n        console.log(this.$store.state.upList);\n    },\n    beforeDestroy: function beforeDestroy() {\n        clearInterval(this.timer);\n        this.$store.dispatch('pushupList', this.ListDetails);\n        this.$store.dispatch('pushDiagnoses', this.Diagnoses);\n    },\n\n    methods: {\n        pop: function pop(idx) {\n            this.showConfirm = true;\n            this.popIdx = idx;\n        },\n        modify: function modify(idx) {\n            this.$store.dispatch('pushcMed', this.ListDetails[idx]);\n            this.$router.push('/modifyCon?idx=' + idx + '&&back=-1');\n        },\n        toUm: function toUm() {\n            this.$store.dispatch('pushisUp', 0);\n            this.$store.dispatch('pushisShowXC', true);\n            this.$router.push('/pharmacy?from=up');\n        },\n        save: function save() {\n            var _this2 = this;\n\n            this.$store.dispatch('pushpullFlag', 0);\n            if (!this.ListDetails.length) {\n                return this.$toast('请添加药品');\n            }\n            if (!this.Diagnoses) {\n                return this.$toast('请填写临床诊断');\n            }\n            if (!this.ListDetails) {\n                return this.$toast('请选择药品');\n            }\n            var list = [];\n            this.ListDetails.forEach(function (v) {\n                var obj = {};\n                obj.MedicationId = v.Id;\n                obj.UsageTimeId = v.UsageTimeId;\n                obj.UsageTime = v.UsageTime;\n                obj.UsageMethodId = v.UsageMethodId;\n                obj.UsageMethod = v.UsageMethod;\n                obj.PackageUnitId = v.PackageUnitId;\n                obj.PackageUnit = v.PackageUnit;\n                obj.DayDosageId = v.DayDosageId;\n                obj.DayDosage = v.DayDosage;\n                obj.Dosage = v.Dosage;\n                obj.DosageUnitId = v.DosageUnitId;\n                obj.DosageUnit = v.DosageUnit;\n                obj.Quantity = v.Quantity;\n                obj.Remark = v.Remark;\n                obj.DosageDaysId = v.DosageDaysId, obj.DosageDays = v.DosageDays;\n                list.push(obj);\n            });\n            this.$post('Prescription/Prescription/SavePrescriptionOftenUsed', this.$pick({\n                id: this.$route.query.id,\n                DoctorId: this.user.Data.User.DoctorId,\n                OrgId: this.user.Data.User.OrgId,\n                Diagnoses: this.Diagnoses,\n                ListDetails: list\n            })).then(function (o) {\n                _this2.ListDetails = null;\n                _this2.Diagnoses = '';\n\n                _this2.$store.dispatch('pushisShowXC', false);\n                _this2.$store.dispatch('pushisUp', 1);\n                _this2.$store.dispatch('pushpullTemp', 0);\n\n                _this2.$router.push('/pharmacy?back=2');\n            });\n        },\n        confirm: function confirm() {\n            this.ListDetails.splice(this.popIdx, 1);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6a605194\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/Pharmacy/usup-detail.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdt\"},[_c('div',{staticClass:\"title\"},[_c('back',{ref:\"back\",attrs:{\"tip\":true}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(\"常用处方详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"diagnosis\"},[_c('p',[_vm._v(\"临床诊断\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Diagnoses),expression:\"Diagnoses\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入临床诊断\"},domProps:{\"value\":(_vm.Diagnoses)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.Diagnoses=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"prescription\"},[_c('h2',[_vm._v(\"RP\")]),_vm._v(\" \"),_vm._l((_vm.ListDetails),function(i,idx){return _c('div',{key:idx,staticClass:\"med\"},[_c('p',[_c('span',[_vm._v(_vm._s(i.Name)+\" \"+_vm._s(i.Specification))]),_vm._v(\" \"),_c('span',[_vm._v(\"x\"+_vm._s(i.Quantity))])]),_vm._v(\" \"),_c('p',{staticClass:\"gray\"},[_vm._v(\"\\n                    用法：\"+_vm._s(i.DayDosage)+\"，\\n                    一次\"+_vm._s(i.Dosage == 0 ? '' : i.Dosage)+_vm._s(i.DosageUnit)+\"，\\n                    \"+_vm._s(i.UsageTime)+_vm._s(i.UsageMethod)+\"\\n                     \"),(i.DosageDays)?_c('span',[_vm._v(\"用药\"+_vm._s(i.DosageDays))]):_vm._e(),_vm._v(\"\\n                    \"+_vm._s(i.Remark)+\"\\n                \")]),_vm._v(\" \"),_c('p',{staticClass:\"gray\"},[_vm._v(\"\\n\\t\\t\\t\\t    \"+_vm._s(i.MedicationCompanyName)+\"提供\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('span',{on:{\"click\":function($event){return _vm.modify(idx)}}},[_vm._v(\"修改用量\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.pop(idx)}}},[_vm._v(\"删除\")])])])}),_vm._v(\" \"),(_vm.ListDetails.length < 5)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.toUm}},[_vm._v(\"添加药品\")]):_vm._e()],2),_vm._v(\" \"),_c('confirm',{on:{\"on-cancel\":function($event){_vm.showConfirm = false},\"on-confirm\":_vm.confirm},model:{value:(_vm.showConfirm),callback:function ($$v) {_vm.showConfirm=$$v},expression:\"showConfirm\"}},[_vm._v(\"确定删除该药品吗？\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var page_Pharmacy_usup_detail = (esExports);\n// CONCATENATED MODULE: ./src/page/Pharmacy/usup-detail.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"jqK6\")\n}\nvar normalizeComponent = __webpack_require__(\"C7Lr\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a605194\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Pharmacy_usup_detail,\n  page_Pharmacy_usup_detail,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_page_Pharmacy_usup_detail = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/100.a40087408e0c382da102.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a605194\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!./usu-detail.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"de512c4a\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6a605194\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./src/style/page/usu-detail.scss\n// module id = jqK6\n// module chunks = 100","var escape = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.title[data-v-6a605194]{background:#fff;height:1.2rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center\\n}\\n.title i[data-v-6a605194]{display:block;height:.46667rem;width:.26667rem;background:url(\" + escape(require(\"assets/back.png\")) + \") no-repeat center;background-size:cover\\n}\\n.title .name[data-v-6a605194]{font-size:17px\\n}\\n.diagnosis[data-v-6a605194]{background:#fff;padding:.4rem;margin:.26667rem 0\\n}\\n.diagnosis p[data-v-6a605194]{height:.66667rem;line-height:.66667rem;font-size:15px;color:#656565;text-align:center\\n}\\n.diagnosis input[data-v-6a605194]{height:.8rem;background:#f4f4f4;width:100%;border-radius:20px;padding:0 .4rem;margin:.26667rem 0\\n}\\n.diagnosis .main[data-v-6a605194]{border:1px solid red\\n}\\n.prescription[data-v-6a605194]{background:#fff;padding:.4rem\\n}\\n.prescription h2[data-v-6a605194]{font-weight:bold\\n}\\n.prescription .med[data-v-6a605194]{padding:.26667rem 0\\n}\\n.prescription .med p[data-v-6a605194]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.13333rem 0\\n}\\n.prescription .operate[data-v-6a605194]{padding:.26667rem 0 0;display:-webkit-box;display:-webkit-flex;display:flex\\n}\\n.prescription .operate span[data-v-6a605194]{display:block;width:2.13333rem;height:.86667rem;line-height:.86667rem;border:1px solid #2a6dc9;color:#2a6dc9;text-align:center;border-radius:20px;margin-right:.26667rem\\n}\\n.prescription .gray[data-v-6a605194]{color:#626262\\n}\\n.prescription .btn[data-v-6a605194]{width:90%;height:1.2rem;line-height:1.2rem;text-align:center;color:#fff;background:#2a6dc9;margin:auto;border-radius:30px;margin-top:.93333rem\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/project/NetHosp/xqdMedical/src/style/page/usu-detail.scss\"],\"names\":[],\"mappings\":\";AACA,wBAAwB,gBAAgB,cAAc,oBAAoB,qBAAqB,aAAa,yBAAyB,sCAAsC,8BAA8B,yBAAyB,2BAA2B,kBAAkB;CAC9Q;AACD,0BAA0B,cAAc,iBAAiB,gBAAgB,0DAAoD,qBAAqB;CACjJ;AACD,8BAA8B,cAAc;CAC3C;AACD,4BAA4B,gBAAgB,cAAc,kBAAkB;CAC3E;AACD,8BAA8B,iBAAiB,sBAAsB,eAAe,cAAc,iBAAiB;CAClH;AACD,kCAAkC,aAAa,mBAAmB,WAAW,mBAAmB,gBAAgB,kBAAkB;CACjI;AACD,kCAAkC,oBAAoB;CACrD;AACD,+BAA+B,gBAAgB,aAAa;CAC3D;AACD,kCAAkC,gBAAgB;CACjD;AACD,oCAAoC,mBAAmB;CACtD;AACD,sCAAsC,oBAAoB,qBAAqB,aAAa,yBAAyB,sCAAsC,8BAA8B,mBAAmB;CAC3M;AACD,wCAAwC,sBAAsB,oBAAoB,qBAAqB,YAAY;CAClH;AACD,6CAA6C,cAAc,iBAAiB,iBAAiB,sBAAsB,yBAAyB,cAAc,kBAAkB,mBAAmB,sBAAsB;CACpN;AACD,qCAAqC,aAAa;CACjD;AACD,oCAAoC,UAAU,cAAc,mBAAmB,kBAAkB,WAAW,mBAAmB,YAAY,mBAAmB,oBAAoB;CACjL\",\"file\":\"usu-detail.scss\",\"sourcesContent\":[\"\\n.title[data-v-6a605194]{background:#fff;height:1.2rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center\\n}\\n.title i[data-v-6a605194]{display:block;height:.46667rem;width:.26667rem;background:url(\\\"~assets/back.png\\\") no-repeat center;background-size:cover\\n}\\n.title .name[data-v-6a605194]{font-size:17px\\n}\\n.diagnosis[data-v-6a605194]{background:#fff;padding:.4rem;margin:.26667rem 0\\n}\\n.diagnosis p[data-v-6a605194]{height:.66667rem;line-height:.66667rem;font-size:15px;color:#656565;text-align:center\\n}\\n.diagnosis input[data-v-6a605194]{height:.8rem;background:#f4f4f4;width:100%;border-radius:20px;padding:0 .4rem;margin:.26667rem 0\\n}\\n.diagnosis .main[data-v-6a605194]{border:1px solid red\\n}\\n.prescription[data-v-6a605194]{background:#fff;padding:.4rem\\n}\\n.prescription h2[data-v-6a605194]{font-weight:bold\\n}\\n.prescription .med[data-v-6a605194]{padding:.26667rem 0\\n}\\n.prescription .med p[data-v-6a605194]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.13333rem 0\\n}\\n.prescription .operate[data-v-6a605194]{padding:.26667rem 0 0;display:-webkit-box;display:-webkit-flex;display:flex\\n}\\n.prescription .operate span[data-v-6a605194]{display:block;width:2.13333rem;height:.86667rem;line-height:.86667rem;border:1px solid #2a6dc9;color:#2a6dc9;text-align:center;border-radius:20px;margin-right:.26667rem\\n}\\n.prescription .gray[data-v-6a605194]{color:#626262\\n}\\n.prescription .btn[data-v-6a605194]{width:90%;height:1.2rem;line-height:1.2rem;text-align:center;color:#fff;background:#2a6dc9;margin:auto;border-radius:30px;margin-top:.93333rem\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6a605194\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js?{\"sourceMap\":true}!./src/style/page/usu-detail.scss\n// module id = ku5p\n// module chunks = 100","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a605194\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!style/page/usu-detail.scss\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./usup-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./usup-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a605194\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./usup-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a605194\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Pharmacy/usup-detail.vue\n// module id = null\n// module chunks = ","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport back from '@/components/back'\r\n\r\nexport default {\r\n    components:{\r\n        back\r\n    },\r\n    data(){\r\n        return {\r\n            id: this.$route.query.id,\r\n            ListDetails: [],\r\n            Diagnoses: null,\r\n            user: this.$store.state.userInfo,\r\n            showConfirm: false,\r\n            popIdx: null,\r\n            timer: null\r\n        }\r\n    },\r\n    created(){\r\n        this.timer = setInterval(() => {\r\n            this.$bridge.registerhandler('confirmBack', (data, responseCallback) => {\r\n                responseCallback('cantBack')\r\n                this.$refs.back.back()\r\n            })\r\n        },50)\r\n        const { pullFlag } = this.$store.state\r\n        if(this.id && !pullFlag){\r\n            this.$post('Prescription/Prescription/GetPrescriptionOftenUsed',{\r\n                Id: this.id\r\n            }).then(o => {\r\n                this.$store.dispatch('pushpullFlag', 1)\r\n                this.Diagnoses = o.Diagnoses\r\n                this.ListDetails = o.ListDetails\r\n            })\r\n        }\r\n        else{\r\n            const {  upList, Diagnoses, saveFlag } = this.$store.state\r\n            this.ListDetails = upList\r\n            this.Diagnoses = Diagnoses\r\n        }\r\n        console.log(this.$store.state.upList)\r\n    },\r\n    beforeDestroy(){\r\n        clearInterval(this.timer)\r\n        this.$store.dispatch('pushupList', this.ListDetails)\r\n        this.$store.dispatch('pushDiagnoses', this.Diagnoses)\r\n    },\r\n    methods:{\r\n        pop(idx){\r\n            this.showConfirm = true\r\n            this.popIdx = idx\r\n        },\r\n        modify(idx){\r\n            this.$store.dispatch('pushcMed', this.ListDetails[idx])\r\n            this.$router.push(`/modifyCon?idx=${idx}&&back=-1`)\r\n        },\r\n        toUm(){\r\n            this.$store.dispatch('pushisUp', 0)\r\n\t\t\tthis.$store.dispatch('pushisShowXC',true)\r\n            this.$router.push('/pharmacy?from=up')\r\n        },\r\n        save(){\r\n            this.$store.dispatch('pushpullFlag', 0)\r\n            if(!this.ListDetails.length){\r\n                return this.$toast('请添加药品')\r\n            }\r\n            if(!this.Diagnoses){\r\n                return this.$toast('请填写临床诊断')\r\n            }\r\n            if(!this.ListDetails){\r\n                return this.$toast('请选择药品')\r\n            }\r\n            const list = []\r\n            this.ListDetails.forEach(v => {\r\n                const obj = {}\r\n                obj.MedicationId = v.Id\r\n                obj.UsageTimeId = v.UsageTimeId\r\n                obj.UsageTime = v.UsageTime\r\n                obj.UsageMethodId = v.UsageMethodId\r\n                obj.UsageMethod = v.UsageMethod\r\n                obj.PackageUnitId = v.PackageUnitId\r\n                obj.PackageUnit = v.PackageUnit\r\n                obj.DayDosageId = v.DayDosageId\r\n                obj.DayDosage = v.DayDosage\r\n                obj.Dosage = v.Dosage\r\n                obj.DosageUnitId = v.DosageUnitId\r\n                obj.DosageUnit = v.DosageUnit\r\n                obj.Quantity = v.Quantity\r\n                obj.Remark = v.Remark\r\n                obj.DosageDaysId= v.DosageDaysId,\r\n                obj.DosageDays= v.DosageDays\r\n                list.push(obj)\r\n            })\r\n            this.$post('Prescription/Prescription/SavePrescriptionOftenUsed', this.$pick({\r\n                id: this.$route.query.id,\r\n                DoctorId: this.user.Data.User.DoctorId,\r\n                OrgId: this.user.Data.User.OrgId,\r\n                Diagnoses: this.Diagnoses,\r\n                ListDetails: list\r\n            })).then(o => {\r\n                this.ListDetails = null\r\n                this.Diagnoses = ''\r\n\t\t\t\t\r\n\t\t\t\tthis.$store.dispatch('pushisShowXC',false)\r\n\t\t\t\tthis.$store.dispatch('pushisUp',1)\r\n\t\t\t\tthis.$store.dispatch('pushpullTemp', 0)\r\n\t\t\t\t\r\n                this.$router.push('/pharmacy?back=2')\r\n            })\r\n        },\r\n        confirm(){\r\n            this.ListDetails.splice(this.popIdx, 1)\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/Pharmacy/usup-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdt\"},[_c('div',{staticClass:\"title\"},[_c('back',{ref:\"back\",attrs:{\"tip\":true}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(\"常用处方详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"diagnosis\"},[_c('p',[_vm._v(\"临床诊断\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Diagnoses),expression:\"Diagnoses\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入临床诊断\"},domProps:{\"value\":(_vm.Diagnoses)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.Diagnoses=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"prescription\"},[_c('h2',[_vm._v(\"RP\")]),_vm._v(\" \"),_vm._l((_vm.ListDetails),function(i,idx){return _c('div',{key:idx,staticClass:\"med\"},[_c('p',[_c('span',[_vm._v(_vm._s(i.Name)+\" \"+_vm._s(i.Specification))]),_vm._v(\" \"),_c('span',[_vm._v(\"x\"+_vm._s(i.Quantity))])]),_vm._v(\" \"),_c('p',{staticClass:\"gray\"},[_vm._v(\"\\n                    用法：\"+_vm._s(i.DayDosage)+\"，\\n                    一次\"+_vm._s(i.Dosage == 0 ? '' : i.Dosage)+_vm._s(i.DosageUnit)+\"，\\n                    \"+_vm._s(i.UsageTime)+_vm._s(i.UsageMethod)+\"\\n                     \"),(i.DosageDays)?_c('span',[_vm._v(\"用药\"+_vm._s(i.DosageDays))]):_vm._e(),_vm._v(\"\\n                    \"+_vm._s(i.Remark)+\"\\n                \")]),_vm._v(\" \"),_c('p',{staticClass:\"gray\"},[_vm._v(\"\\n\\t\\t\\t\\t    \"+_vm._s(i.MedicationCompanyName)+\"提供\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('span',{on:{\"click\":function($event){return _vm.modify(idx)}}},[_vm._v(\"修改用量\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.pop(idx)}}},[_vm._v(\"删除\")])])])}),_vm._v(\" \"),(_vm.ListDetails.length < 5)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.toUm}},[_vm._v(\"添加药品\")]):_vm._e()],2),_vm._v(\" \"),_c('confirm',{on:{\"on-cancel\":function($event){_vm.showConfirm = false},\"on-confirm\":_vm.confirm},model:{value:(_vm.showConfirm),callback:function ($$v) {_vm.showConfirm=$$v},expression:\"showConfirm\"}},[_vm._v(\"确定删除该药品吗？\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6a605194\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/Pharmacy/usup-detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}