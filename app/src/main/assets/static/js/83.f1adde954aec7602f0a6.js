webpackJsonp([83],{UQO7:function(e,n,t){"use strict";function a(e){t("xUxx")}Object.defineProperty(n,"__esModule",{value:!0});var i=t("8pLc"),s=t("pKZN"),o=(i.a,s.a,{components:{noData:i.a,back:s.a},data:function(){return{DiseaseName:[],search:"",DiseaseList:[],page:1,haveMore:!0}},watch:{search:function(){this.searchFor()}},created:function(){this.searchFor(!1)},mounted:function(){this.getMore(),this.DiseaseName=this.$store.state.Disease},beforeDestroy:function(){window.onscroll=null},methods:{searchFor:function(e){var n=this;this.search&&this.$post("PlatFormAPI/KnowledgeBase/GetDepDiseaseForPage",{DepartmentId:-1,DiseaseName:this.search,PageIndex:this.page,PageSize:15}).then(function(t){!t.ReturnData||t.ReturnData.length<15?n.haveMore=!1:n.haveMore=!0,e?t.ReturnData.forEach(function(e){n.DiseaseList.push(e)}):n.DiseaseList=t.ReturnData})},getMore:function(){var e=this,n=this.$refs.el,t=null;window.onscroll=function(){clearTimeout(t),t=setTimeout(function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;n.scrollHeight-t-window.innerHeight<100&&e.haveMore&&(e.page+=1,e.searchFor(!0))},100)}},pop:function(e){this.DiseaseName.splice(e,1)},confirm:function(){this.$store.dispatch("pushDisease",this.DiseaseName),this.$router.back()},choose:function(e){var n=this.DiseaseName.indexOf(e.DiseaseName);-1==n?this.DiseaseName.push(e.DiseaseName):this.DiseaseName.splice(n,1)}}}),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"el",staticClass:"pdt"},[t("div",{staticClass:"title"},[t("back"),e._v(" "),t("span",{staticClass:"name"},[e._v("选择疾病")]),e._v(" "),t("a",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确定")])],1),e._v(" "),t("div",{staticClass:"choose"},[t("p",{staticClass:"tit"},[e._v("已选疾病")]),e._v(" "),t("p",{staticClass:"dis"},e._l(e.DiseaseName,function(n,a){return t("span",{key:a},[e._v("\n                "+e._s(n)),t("i",{staticClass:"del",on:{click:function(n){e.pop(a)}}})])}))]),e._v(" "),t("p",{staticClass:"baseSearch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"search",placeholder:"输入疾病名称搜索"},domProps:{value:e.search},on:{input:function(n){n.target.composing||(e.search=n.target.value)}}})]),e._v(" "),e._l(e.DiseaseList,function(n,a){return e.search&&e.DiseaseList.length?t("p",{key:a,staticClass:"items",class:{on:-1!=e.DiseaseName.indexOf(n.DiseaseName)},on:{click:function(t){e.choose(n)}}},[t("span",[e._v(e._s(n.DiseaseName))]),e._v(" "),t("i")]):e._e()})],2)},c=[],d={render:r,staticRenderFns:c},l=d,p=t("VU/8"),f=a,u=p(o,l,!1,f,"data-v-8d10efa0",null);n.default=u.exports},icHG:function(e,n,t){var a=t("kxFB");n=e.exports=t("FZ+f")(!1),n.push([e.i,"\n.choose[data-v-8d10efa0] {\n  border-top: 1px solid #ececec;\n  background: #fff;\n}\n.tit[data-v-8d10efa0] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  min-height: 1.17333rem;\n  padding-left: 0.4rem;\n  border-bottom: 1px solid #ececec;\n}\n.dis[data-v-8d10efa0] {\n  padding: 0 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.dis span[data-v-8d10efa0] {\n    background: #fff;\n    border: 1px solid #306bce;\n    color: #306bce;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    margin: 0.26667rem 0.13333rem;\n    font-size: 13px;\n    align-items: center;\n    padding: 0.10667rem 0.53333rem 0.10667rem 0.2rem;\n    border-radius: 30px;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    position: relative;\n}\n.dis i[data-v-8d10efa0] {\n    display: inline-block;\n    position: absolute;\n    right: 0;\n    top: 10%;\n    width: 0.53333rem;\n    height: 0.53333rem;\n    background: url("+a(t("9bmq"))+") no-repeat center;\n    background-size: contain;\n}\n.confirm[data-v-8d10efa0] {\n  color: #306bce;\n}\n.baseSearch[data-v-8d10efa0] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  border-bottom: 1px solid #ececec;\n  padding: 0.26667rem 0;\n  background: #fff;\n}\n.baseSearch input[data-v-8d10efa0] {\n    width: 80%;\n    display: block;\n    border-radius: 30px;\n    background: #ececec;\n    margin: auto;\n    height: 0.8rem;\n    text-align: center;\n}\n.items[data-v-8d10efa0] {\n  height: 1.17333rem;\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  border-bottom: 1px solid #ececec;\n  padding: 0 0.4rem;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.items i[data-v-8d10efa0] {\n    display: block;\n    width: 0.53333rem;\n    height: 0.53333rem;\n    background: url("+a(t("QXeV"))+") no-repeat center;\n    background-size: contain;\n}\n.on[data-v-8d10efa0] {\n  color: #306bce;\n}\n.on i[data-v-8d10efa0] {\n    background: url("+a(t("ixmR"))+") no-repeat center;\n    background-size: contain;\n}\n",""])},xUxx:function(e,n,t){var a=t("icHG");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("11aa1628",a,!0,{})}});