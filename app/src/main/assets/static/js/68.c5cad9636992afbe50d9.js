webpackJsonp([68],{KGYI:function(e,t,a){var i=a("j+Rj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("FIqI")("56ae51e0",i,!0,{})},RqtG:function(e,t,a){"use strict";function i(e){a("KGYI")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("pKZN"),r=(n.a,{components:{back:n.a},data:function(){return{top:88/75*1+"rem",arr:[],show:!1,FieldType:"",MFItemId:"",deleteShow:!1,DrId:null==this.$store.state.userInfo?18:this.$store.state.userInfo.Data.User.DoctorId,h404:!0,OrgIds:null==this.$store.state.userInfo?1:this.$store.state.userInfo.Data.User.OrgId[0],start:this.$route.params.start,id:this.$route.query.id,title:"编辑分组",manStart:!1,MFItemArr:[],MFItemName:"",mFNames:this.$store.state.mFItemNames,mName:[],isImEntry:this.$route.query.isImEntry,user:this.$store.state.userInfo,Patient:this.$store.state.patient}},created:function(){var e=this;this.$bridge.callhandler("printdata","初始进入0"),"1"==this.start?(this.title="编辑分组",this.manStart=!0):(this.title="选择分组",this.manStart=!1),this.mFNames&&(-1==this.mFNames.indexOf(",")?this.mName.push(this.mFNames):this.mName=this.mFNames.split(",")),"1"==this.start||this.mFNames||this.$get("PlatFormAPI/DoctorPatient/QueryDoctorPatientSummary",{PatientId:this.Patient.PatientId,DrId:this.user.Data.User.DoctorId}).then(function(t){t&&t.MFItemIds&&(-1==t.MFItemIds.indexOf(",")?e.mName.push(t.MFItemIds):e.mName=t.MFItemIds.split(","))}),this.httpStart()},mounted:function(){},methods:{setStyle:function(){var e=this;this.arr.map(function(t,a){e.mName.map(function(i,n){t.MFItemId==i&&(e.arr[a].checkedNames="success",e.MFItemArr.push(e.arr[a]))})}),this.$bridge.callhandler("printdata",this.arr)},grouapsFn:function(e,t,a){this.$router.push({path:"/patient/managementDelete?Diff=2&MFItemId="+e+"&MFItemName="+t+"&Description="+a})},esc:function(){this.show=!1},addPatientFn:function(){var e=this;if(0==this.MFItemArr.length)return this.$toast("请选择分组");var t={};if(void 0==this.id)return this.$toast("请选择分组");var a=[];this.MFItemArr.forEach(function(e){a.push({MFItemId:e.MFItemId,MFItemName:e.MFItemName})}),t.parameter={DrId:this.DrId,PatientId:this.id,MemberfeaturesItems:a},t.url="/PlatFormAPI/Memberfeatures/BacthPatientMemberfeaturesRecord",this.$post(t.url,t.parameter).then(function(t){t&&(e.isImEntry?(e.$bridge.callhandler("saveSucess","123"),e.$bridge.callhandler("BackToIM","123")):e.$router.back())})},circleFn:function(e,t){var a=this;"circle"==this.arr[e].checkedNames?(this.MFItemArr.push(t),this.arr[e].checkedNames="success"):(this.MFItemArr.map(function(e,i){t.MFItemName==e.MFItemName&&a.MFItemArr.splice(i,1)}),this.arr[e].checkedNames="circle")},httpStart:function(){var e=this,t={};t.url="/PlatFormAPI/Memberfeatures/QueryDrRecordCountByDrId",t.parameter={DrId:this.user.Data.User.DoctorId},this.$bridge.callhandler("printdata","初始进入1"),this.$get(t.url,t.parameter).then(function(t){e.$bridge.callhandler("printdata",t),null!=t&&(e.h404=!1),t&&t.map(function(e,a){t[a].checkedNames="circle"}),e.arr=t,setTimeout(function(){e.setStyle()},800)})},grouapsDetele:function(e,t,a){console.log(e),this.show=!0,this.FieldType=e,this.MFItemId=t,this.MFItemName=a},grouapsDeteleDialog:function(){var e=this,t={};t.url="/PlatFormAPI/Memberfeatures/DelMemberfeaturesItem",t.parameter={DrId:this.DrId,FieldType:this.FieldType,MFItemId:this.MFItemId},this.$get(t.url,t.parameter).then(function(t){e.show=!1,t&&(e.deleteShow=!0,e.httpStart())})}}}),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main pdt",attrs:{id:"man"}},[a("div",{staticClass:"title"},[a("back"),e._v(" "),a("span",{staticClass:"name"},[e._v(e._s(e.title))]),e._v(" "),a("a")],1),e._v(" "),e.manStart?a("div",{staticClass:"man-grid"},[e._l(e.arr,function(t){return a("div",{staticClass:"item"},[a("div",{staticClass:"left",on:{click:function(a){return e.grouapsFn(t.MFItemId,t.MFItemName,t.Description)}}},[e._m(0,!0),a("span",{staticClass:"txt"},[e._v(e._s(t.MFItemName)+" （"+e._s(t.PatientTotal)+"）")])]),e._v(" "),a("div",{staticClass:"right",on:{click:function(a){return e.grouapsDetele(t.FieldType,t.MFItemId,t.MFItemName)}}},[a("span",[e._v("删除")])])])}),e._v(" "),e.h404?a("div",{staticClass:"h404"},[e._v("\n\t\t\t\t暂无数据\n\t\t\t")]):e._e()],2):a("div",{staticClass:"man-grid"},[e._l(e.arr,function(t,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return e.circleFn(i,t)}}},[a("div",{staticClass:"left"},[e._m(1,!0),a("span",{staticClass:"txt"},[e._v(e._s(t.MFItemName))])]),e._v(" "),a("div",{staticClass:"right"},[a("icon",{attrs:{type:t.checkedNames}})],1)])}),e._v(" "),e.h404?a("div",{staticClass:"h404"},[e._v("\n\t\t\t\t暂无数据\n\t\t\t")]):e._e()],2),e._v(" "),e.manStart?e._e():a("span",{staticClass:"btn",on:{click:function(t){return e.addPatientFn()}}},[e._v("完成")]),e._v(" "),a("x-dialog",{staticClass:"invitorMask",attrs:{"hide-on-blur":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"weui-dialog__hd"},[a("strong",{staticClass:"weui-dialog__title"},[e._v("操作提示")])]),e._v(" "),a("div",{staticClass:"weui-dialog__bd"},[a("p",{staticStyle:{"text-align":"center"}},[e._v("是否删除"+e._s(e.MFItemName)+"分组？")])]),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:function(t){return e.esc()}}},[e._v("取消")]),e._v(" "),a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.grouapsDeteleDialog()}}},[e._v("确定")])])]),e._v(" "),a("toast",{attrs:{name:"show",time:1e3},model:{value:e.deleteShow,callback:function(t){e.deleteShow=t},expression:"deleteShow"}},[e._v("删除成功")])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon"},[a("span"),a("span"),a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon"},[a("span"),a("span"),a("span")])}],d={render:s,staticRenderFns:o},A=d,l=a("C7Lr"),c=i,m=l(r,A,!1,c,"data-v-e746828a",null);t.default=m.exports},"j+Rj":function(e,t,a){t=e.exports=a("UTlt")(!0),t.push([e.i,'\n.vux-patient-header[data-v-e746828a]{position:relative;box-sizing:border-box;background-color:#fff\n}\n.vux-patient-header-back[data-v-e746828a]{color:#3069cf\n}\n.vux-patient-header .vux-patient-header-left[data-v-e746828a],.vux-patient-header .vux-patient-header-right[data-v-e746828a]{position:absolute;top:.38667rem;display:block;font-size:16px;line-height:1;color:#666\n}\n.vux-patient-header .vux-patient-header-left[data-v-e746828a]{left:.53333rem\n}\n.vux-patient-header-title-area[data-v-e746828a],.vux-patient-header .vux-patient-header-title[data-v-e746828a]{margin:0 .53333rem;height:1.17333rem;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\n}\n.vux-patient-header .vux-patient-header-title[data-v-e746828a]{line-height:1.17333rem;text-align:center;font-size:15px;font-weight:400;color:#333\n}\n.vux-patient-header .vux-patient-header-right[data-v-e746828a]{right:.53333rem\n}\n.vux-flexbox[data-v-e746828a]{padding:0 .53333rem;background-color:#fff\n}\n.flex-demo[data-v-e746828a]{text-align:center\n}\n.vux-flexbox-item[data-v-e746828a]{border-top:1px solid #f4f4f4;padding-top:.53333rem;padding-bottom:.33333rem;font-size:14px\n}\n#patient .vux-search-box[data-v-e746828a]{padding:.32rem 0 !important\n}\n.clearfix[data-v-e746828a]:before,.clearfix[data-v-e746828a]:after{content:" ";display:table\n}\n.clearfix[data-v-e746828a]:after{clear:both\n}\n.clearfix[data-v-e746828a]{*zoom:1\n}\n.weui-icon-circle[data-v-e746828a],.weui-icon-success[data-v-e746828a]{font-size:13px\n}\n.h404[data-v-e746828a]{text-align:center;background-color:#fff;padding-top:.4rem\n}\n#man .vux-header .vux-header-right a[data-v-e746828a]{color:#3069cf;font-size:15px\n}\n.btn[data-v-e746828a]{width:7.46667rem;height:1.06667rem;display:block;text-align:center;line-height:1.06667rem;margin:0 auto;border-radius:.66667rem;background-color:#3069cf;color:#fff;font-size:17px;margin-top:1.2rem\n}\n.man-grid[data-v-e746828a]{margin-top:.26667rem;background-color:#fff;padding:0 .53333rem .4rem .53333rem\n}\n.man-grid .item[data-v-e746828a]{padding-top:.4rem;padding-bottom:.4rem;border-bottom:1px solid #f4f4f4;display:-webkit-box;display:-webkit-flex;display:flex\n}\n.man-grid .item span[data-v-e746828a]{display:block\n}\n.man-grid .item .left[data-v-e746828a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#343434;font-size:15px;display:-webkit-box;display:-webkit-flex;display:flex\n}\n.man-grid .item .left .icon span[data-v-e746828a]{display:block;width:.53333rem;height:.05333rem;background-color:#ccc;margin-bottom:.10667rem\n}\n.man-grid .item .left .icon span[data-v-e746828a]:last-child{margin-bottom:0\n}\n.man-grid .item .left .txt[data-v-e746828a]{line-height:1;margin-left:.58667rem\n}\n.man-grid .item .right[data-v-e746828a]{position:relative;font-size:13px\n}\n.man-grid .item .right span[data-v-e746828a]{color:#666666;line-height:.53333rem;width:1.17333rem;height:.53333rem;background-color:#eeeeee;color:#666;font-size:12px;text-align:center;border-radius:.10667rem\n}\n.man-grid .item img[data-v-e746828a]{height:.32rem;position:absolute;right:0;top:50%;margin-top:-.16rem\n}\n.man-grid .item[data-v-e746828a]:last-child{padding-bottom:0;border-bottom:0px solid\n}\n',"",{version:3,sources:["E:/project/NetHosp/xqdMedical/src/page/Patient/management.vue"],names:[],mappings:";AACA,qCAAqC,kBAAkB,sBAAsB,qBAAqB;CACjG;AACD,0CAA0C,aAAa;CACtD;AACD,6HAA6H,kBAAkB,cAAc,cAAc,eAAe,cAAc,UAAU;CACjN;AACD,8DAA8D,cAAc;CAC3E;AACD,+GAA+G,mBAAmB,kBAAkB,WAAW,gBAAgB,uBAAuB,kBAAkB;CACvN;AACD,+DAA+D,uBAAuB,kBAAkB,eAAe,gBAAgB,UAAU;CAChJ;AACD,+DAA+D,eAAe;CAC7E;AACD,8BAA8B,oBAAoB,qBAAqB;CACtE;AACD,4BAA4B,iBAAiB;CAC5C;AACD,mCAAmC,6BAA6B,sBAAsB,yBAAyB,cAAc;CAC5H;AACD,0CAA0C,2BAA2B;CACpE;AACD,mEAAmE,YAAY,aAAa;CAC3F;AACD,iCAAiC,UAAU;CAC1C;AACD,4BAA2B,MAAO;CACjC;AACD,uEAAuE,cAAc;CACpF;AACD,uBAAuB,kBAAkB,sBAAsB,iBAAiB;CAC/E;AACD,sDAAsD,cAAc,cAAc;CACjF;AACD,sBAAsB,iBAAiB,kBAAkB,cAAc,kBAAkB,uBAAuB,cAAc,wBAAwB,yBAAyB,WAAW,eAAe,iBAAiB;CACzN;AACD,2BAA2B,qBAAqB,sBAAsB,mCAAmC;CACxG;AACD,iCAAiC,kBAAkB,qBAAqB,gCAAgC,oBAAoB,qBAAqB,YAAY;CAC5J;AACD,sCAAsC,aAAa;CAClD;AACD,uCAAuC,mBAAmB,eAAe,OAAO,cAAc,eAAe,oBAAoB,qBAAqB,YAAY;CACjK;AACD,kDAAkD,cAAc,gBAAgB,iBAAiB,sBAAsB,uBAAuB;CAC7I;AACD,6DAA6D,eAAe;CAC3E;AACD,4CAA4C,cAAc,qBAAqB;CAC9E;AACD,wCAAwC,kBAAkB,cAAc;CACvE;AACD,6CAA6C,cAAc,sBAAsB,iBAAiB,iBAAiB,yBAAyB,WAAW,eAAe,kBAAkB,uBAAuB;CAC9M;AACD,qCAAqC,cAAc,kBAAkB,QAAQ,QAAQ,kBAAkB;CACtG;AACD,4CAA4C,iBAAiB,uBAAuB;CACnF",file:"management.vue",sourcesContent:['\n.vux-patient-header[data-v-e746828a]{position:relative;box-sizing:border-box;background-color:#fff\n}\n.vux-patient-header-back[data-v-e746828a]{color:#3069cf\n}\n.vux-patient-header .vux-patient-header-left[data-v-e746828a],.vux-patient-header .vux-patient-header-right[data-v-e746828a]{position:absolute;top:.38667rem;display:block;font-size:16px;line-height:1;color:#666\n}\n.vux-patient-header .vux-patient-header-left[data-v-e746828a]{left:.53333rem\n}\n.vux-patient-header-title-area[data-v-e746828a],.vux-patient-header .vux-patient-header-title[data-v-e746828a]{margin:0 .53333rem;height:1.17333rem;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\n}\n.vux-patient-header .vux-patient-header-title[data-v-e746828a]{line-height:1.17333rem;text-align:center;font-size:15px;font-weight:400;color:#333\n}\n.vux-patient-header .vux-patient-header-right[data-v-e746828a]{right:.53333rem\n}\n.vux-flexbox[data-v-e746828a]{padding:0 .53333rem;background-color:#fff\n}\n.flex-demo[data-v-e746828a]{text-align:center\n}\n.vux-flexbox-item[data-v-e746828a]{border-top:1px solid #f4f4f4;padding-top:.53333rem;padding-bottom:.33333rem;font-size:14px\n}\n#patient .vux-search-box[data-v-e746828a]{padding:.32rem 0 !important\n}\n.clearfix[data-v-e746828a]:before,.clearfix[data-v-e746828a]:after{content:" ";display:table\n}\n.clearfix[data-v-e746828a]:after{clear:both\n}\n.clearfix[data-v-e746828a]{*zoom:1\n}\n.weui-icon-circle[data-v-e746828a],.weui-icon-success[data-v-e746828a]{font-size:13px\n}\n.h404[data-v-e746828a]{text-align:center;background-color:#fff;padding-top:.4rem\n}\n#man .vux-header .vux-header-right a[data-v-e746828a]{color:#3069cf;font-size:15px\n}\n.btn[data-v-e746828a]{width:7.46667rem;height:1.06667rem;display:block;text-align:center;line-height:1.06667rem;margin:0 auto;border-radius:.66667rem;background-color:#3069cf;color:#fff;font-size:17px;margin-top:1.2rem\n}\n.man-grid[data-v-e746828a]{margin-top:.26667rem;background-color:#fff;padding:0 .53333rem .4rem .53333rem\n}\n.man-grid .item[data-v-e746828a]{padding-top:.4rem;padding-bottom:.4rem;border-bottom:1px solid #f4f4f4;display:-webkit-box;display:-webkit-flex;display:flex\n}\n.man-grid .item span[data-v-e746828a]{display:block\n}\n.man-grid .item .left[data-v-e746828a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#343434;font-size:15px;display:-webkit-box;display:-webkit-flex;display:flex\n}\n.man-grid .item .left .icon span[data-v-e746828a]{display:block;width:.53333rem;height:.05333rem;background-color:#ccc;margin-bottom:.10667rem\n}\n.man-grid .item .left .icon span[data-v-e746828a]:last-child{margin-bottom:0\n}\n.man-grid .item .left .txt[data-v-e746828a]{line-height:1;margin-left:.58667rem\n}\n.man-grid .item .right[data-v-e746828a]{position:relative;font-size:13px\n}\n.man-grid .item .right span[data-v-e746828a]{color:#666666;line-height:.53333rem;width:1.17333rem;height:.53333rem;background-color:#eeeeee;color:#666;font-size:12px;text-align:center;border-radius:.10667rem\n}\n.man-grid .item img[data-v-e746828a]{height:.32rem;position:absolute;right:0;top:50%;margin-top:-.16rem\n}\n.man-grid .item[data-v-e746828a]:last-child{padding-bottom:0;border-bottom:0px solid\n}\n'],sourceRoot:""}])}});
//# sourceMappingURL=68.c5cad9636992afbe50d9.js.map