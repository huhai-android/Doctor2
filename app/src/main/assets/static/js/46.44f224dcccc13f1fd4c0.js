webpackJsonp([46],{Jhko:function(t,n,e){var a=e("kxFB");n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.searchBox[data-v-5ab7d16d] {\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  height: 1.06667rem;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  position: fixed;\n  top: 1.2rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n}\n.searchBox input[data-v-5ab7d16d] {\n    height: 60%;\n    width: 60%;\n    border: 1px solid #ececec;\n    border-radius: 20px;\n    padding: 0 0.4rem 0 0.8rem;\n    font-size: 14px;\n}\n.searchBox i[data-v-5ab7d16d] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n    background: url("+a(e("NzrC"))+") no-repeat center;\n    background-size: contain;\n    position: absolute;\n    left: 1.33333rem;\n    top: 0.33333rem;\n}\n.searchBox span[data-v-5ab7d16d] {\n    background: #3069cf;\n    color: #fff;\n    font-size: 14px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 0.66667rem;\n    border-radius: 10px;\n    width: 1.33333rem;\n    margin-left: 0.4rem;\n}\n.sort[data-v-5ab7d16d] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 0.93333rem;\n  border-bottom: 1px solid #ececec;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  background: #fff;\n  position: fixed;\n  top: 2.26667rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  font-size: 14px;\n}\n.sort p[data-v-5ab7d16d] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 100%;\n}\n.sort p i[data-v-5ab7d16d] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+a(e("usbB"))+") no-repeat center;\n      margin-left: 0.26667rem;\n}\n.pdt[data-v-5ab7d16d] {\n  padding-top: 3.2rem;\n}\n.content[data-v-5ab7d16d] {\n  position: fixed;\n  top: 3.17333rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translateZ(0px);\n}\n.card[data-v-5ab7d16d] {\n  background: #fff;\n  padding: 0.42667rem 0.26667rem;\n  margin: 0.26667rem 0.4rem;\n  border-radius: 10px;\n}\n.card .box[data-v-5ab7d16d] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    padding-bottom: 0.21333rem;\n    border-bottom: 0.02667rem solid #F1F1F1;\n}\n.card .box .l[data-v-5ab7d16d] {\n      width: 100%;\n}\n.card .box .l .o[data-v-5ab7d16d] {\n        color: #333333;\n        font-size: 15px;\n        font-weight: 600;\n        margin-bottom: 0.18667rem;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n}\n.card .box .l .o .m[data-v-5ab7d16d] {\n          font-size: 14px;\n          color: #FB1943;\n          text-align: right;\n          margin-bottom: 0.13333rem;\n          -webkit-flex-shrink: 0;\n                  flex-shrink: 0;\n}\n.card .box .l .s[data-v-5ab7d16d] {\n        font-size: 14px;\n        color: #999999;\n        margin-bottom: 0.10667rem;\n}\n.card .box .l .f[data-v-5ab7d16d] {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n        -webkit-box-align: center;\n        -webkit-align-items: center;\n                align-items: center;\n}\n.card .box .l .f .b[data-v-5ab7d16d] {\n          padding: 0.05333rem 0.13333rem;\n          line-height: 0.45333rem;\n          color: #3A66FF;\n          border: 0.02667rem solid #3A66FF;\n          text-align: center;\n          font-size: 14px;\n          border-radius: 0.10667rem;\n}\n.card .box .r .m[data-v-5ab7d16d] {\n      font-size: 14px;\n      color: #FB1943;\n      text-align: right;\n      margin-bottom: 0.13333rem;\n}\n.card .box .r .b[data-v-5ab7d16d] {\n      padding: 0.05333rem 0.13333rem;\n      line-height: 0.45333rem;\n      color: #3A66FF;\n      border: 0.02667rem solid #3A66FF;\n      text-align: center;\n      font-size: 14px;\n      border-radius: 0.10667rem;\n}\n.card .bbox[data-v-5ab7d16d] {\n    padding-top: 0.10667rem;\n}\n.card .bbox .o[data-v-5ab7d16d] {\n      margin-top: 0.16rem;\n      color: #999999;\n      font-size: 14px;\n}\n.card .bbox .o span[data-v-5ab7d16d] {\n        color: #FB1943;\n        font-size: 14px;\n}\n.card .bbox .t[data-v-5ab7d16d] {\n      margin-top: 0.16rem;\n      color: #FB1943;\n      font-size: 14px;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-pack: start;\n      -webkit-justify-content: flex-start;\n              justify-content: flex-start;\n}\n.card .bbox .t div[data-v-5ab7d16d]:nth-child(1) {\n        -webkit-flex-shrink: 0;\n                flex-shrink: 0;\n}\n.card p[data-v-5ab7d16d] {\n    padding: 0.13333rem 0.4rem;\n    color: #999;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.card .tit[data-v-5ab7d16d] {\n    color: #333;\n}\n.card .status[data-v-5ab7d16d] {\n    color: #fda222;\n}\n.card .payStatus[data-v-5ab7d16d] {\n    color: #3069cf;\n}\n.card .info[data-v-5ab7d16d] {\n    border-bottom: 1px solid #ececec;\n    padding-bottom: 0.26667rem;\n    position: relative;\n}\n.card .doctor[data-v-5ab7d16d] {\n    padding: 0.26667rem 0;\n}\n.card .reject[data-v-5ab7d16d] {\n    border-top: 1px solid #ececec;\n    padding-top: 0.26667rem;\n    color: #ff2631;\n    display: block;\n}\n.card .arrow[data-v-5ab7d16d] {\n    display: block;\n    width: 0.66667rem;\n    height: 0.66667rem;\n    background: url("+a(e("b9hs"))+") no-repeat center;\n    background-size: contain;\n    margin-left: 0.13333rem;\n    position: absolute;\n    right: 0.26667rem;\n    top: 1.6rem;\n}\n.sortList[data-v-5ab7d16d] {\n  max-height: 9.86667rem;\n  overflow: scroll;\n  padding: 0 0.66667rem;\n  font-size: 14px;\n  background: #fff;\n  position: fixed;\n  top: 3.2rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n}\n.sortList p[data-v-5ab7d16d] {\n    height: 0.93333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    color: #999;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.sortList .on[data-v-5ab7d16d] {\n    color: #3069cf;\n}\n.sortList .on .check[data-v-5ab7d16d] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+a(e("rNPe"))+") no-repeat center;\n      background-size: contain;\n}\n.mask[data-v-5ab7d16d] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n}\n.reload[data-v-5ab7d16d] {\n  text-align: center;\n  color: #999;\n  padding: 0.10667rem 0;\n  font-size: 14px;\n}\n",""])},KWdr:function(t,n,e){var a=e("Jhko");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("060e5992",a,!0,{})},NzrC:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABx0lEQVQ4T6XTMWiTQRQH8P+7i9mkZgxVFCsiiIOLg5ubdtClZhIsIbl3EMTBVeFz6SxC8F1iyKC2ToIgDnbT6uDSLoVqQREHg4q4KJjk+558ISlfam2L3vjd+37v3nt3hP9clP0/hLAHwGVVZSL6oaqGiH4BeAkgMPOnzfk2gGazuT9Jkqeq+iKfz0flcvlLGhxCmABwEcANIqo5555kkQGQZlbV58aYa865V1tVFUI4BmCRiM4651ZHMQNARK4SUYGZo+1aIiLTAK5770+PASGEZQDTW9W4GRSRNWPMeefc23SPoijKFYvFD8w8uZuBiEgdwJL3fmEAtFqtvb1eb8V7P7VLYI6I3jHz3QEwbOJnAIeY+edOiIg8AnDHe7+YBRZU9Zn3vr0d0G6393W73fVCoTBZKpW6WeAEgMcATjHz178hIjJPRG+Y+ebYFIajvEJE3O/3z9VqtY9ZpNFoHE2S5DYRHSSimT/uwSg4hJDeuDkArwGsp99V9QiAC0QUjDG34jh+YK2drVar7zdKyGZTVRKR49bak6p6WFW/53K5e5VK5duw4UVVfRjH8aX0pGOPaacJjPbr9foBa+39Tqdz5p+AbKLfTWq1k8Zd3vYAAAAASUVORK5CYII="},dDOJ:function(t,n,e){"use strict";function a(t){e("KWdr")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("pKZN"),s=e("8pLc"),o=(i.a,s.a,{components:{back:i.a,noData:s.a},data:function(){return{title:"我的处方",user:this.$store.state.userInfo.Data,haveMore:!0,page:1,list:[],reason:[],pageShow:!1,sorList:["处方类型","审方状态","订单状态"],dateList:[{name:"全部",val:"-1"},{name:"西药处方",val:"4"},{name:"中药处方",val:"17"}],statusList:[{name:"全部",val:"-1"},{name:"待审核",val:"0"},{name:"审核通过",val:"1"},{name:"审核不通过",val:"6"}],buyList:[{name:"全部",val:"-1"},{name:"未支付",val:"0"},{name:"待发货",val:"1"},{name:"待收货",val:"2"},{name:"已完成",val:"3"},{name:"已退款",val:"5"},{name:"已取消",val:"7"},{name:"已关闭",val:"8"}],date:{name:"全部",val:"-1"},status:{name:"全部",val:"-1"},buy:{name:"全部",val:"-1"},idx:null,search:"",scrollTopDistance:0,show3:!1,loading:!1}},created:function(){this.pull(!1)},mounted:function(){this.getMore(),this.reload(),this.scrollIos()},beforeRouteLeave:function(t,n,e){window.onscroll=null,n.meta.keepAlive&&(n.meta.scollTopPosition=this.scrollTopDistance),e()},beforeRouteEnter:function(t,n,e){e(function(n){n.getMore(),setTimeout(function(){console.log(t.meta.scollTopPosition),n.$refs.el3.scrollTop=t.meta.scollTopPosition},1)})},beforeDestroy:function(){window.onscroll=null,this.idx=null},methods:{searchFor:function(){this.page=1,this.haveMore=!0,this.pull(!1)},pull:function(t){var n=this;this.haveMore&&this.$post("PlatFormAPI/PayOrder/QueryDoctorPrescriptionMergePage",{DrId:this.user.User.DoctorId,ServiceType:this.date.val,ServiceStatus:this.status.val,OrderStatus:this.buy.val,PageIndex:this.page,PageSize:15,AppVersion:"1.5",SearchContent:this.search}).then(function(e){n.pageShow=!0,n.show3=!1,n.loading=!1,!e.ReturnData||e.ReturnData.length<15?n.haveMore=!1:n.haveMore=!0,t?e.ReturnData.forEach(function(t){t.ExtendJson&&(t.ExtendJson=JSON.parse(t.ExtendJson)),n.list.push(t)}):(e.ReturnData?(e.ReturnData.forEach(function(t){t.ExtendJson&&(t.ExtendJson=JSON.parse(t.ExtendJson))}),n.list=e.ReturnData):n.list=[],n.$nextTick(function(){window.scrollTo(0,5)}))})},sort:function(t){this.idx==t?this.idx=null:this.idx=t},chose:function(t){this.date=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},chose1:function(t){this.status=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},chose2:function(t){this.buy=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},getDetail:function(t){"17"==t.ServiceType?this.$router.push("/chineseMed/prescription?id="+t.ExtendJson.PrescriptionId):"4"==t.ServiceType&&this.$router.push("/PrescriptionLlist?id="+t.ExtendJson.PrescriptionId)},getMore:function(){var t=this,n=this.$refs.el3,e=null;n.onscroll=function(){clearTimeout(e),e=setTimeout(function(){var e=n.scrollTop||n.pageYOffset||n.scrollTop,a=n.scrollHeight,i=window.innerHeight;t.scrollTopDistance=e,a-e-i<100&&t.haveMore&&(t.page+=1,t.loading=!0,t.pull(!0))},100)}},reload:function(){var t=this,n=this.$refs.el2,e=this.$refs.el3,a=null,i=null,s=null,o=null;n.addEventListener("touchstart",function(n){t.show3=!1,a=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY}),n.addEventListener("touchmove",function(n){if(s=n.changedTouches[0].pageX,o=n.changedTouches[0].pageY,null===t.idx&&Math.abs(a-s)<Math.abs(i-o)&&i-o<0){var r=e.scrollTop||e.pageYOffset;(r<10||!r)&&(t.show3=!0)}}),n.addEventListener("touchend",function(){t.show3&&(t.page=1,t.haveMore=!0,t.pull(!1))})},scrollIos:function(){var t=this.$refs.el3,n=0;t.addEventListener("touchstart",function(t){n=t.touches[0].clientY});var e=this.$refs.el3;e.removeEventListener("touchmove",function(t){t.preventDefault()},!1),e.addEventListener("touchmove",function(t){var a=t.touches[0].clientY,i=e.scrollTop,s=e.scrollHeight,o=e.clientHeight,r=n-a<0?"up":"down";0==i&&"up"==r?t.preventDefault():i>=s-o&&"down"==r&&t.preventDefault(),n=a})}}}),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"el2",staticClass:"container pdt"},[e("div",{staticClass:"title"},[e("back"),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.title))]),t._v(" "),e("a")],1),t._v(" "),!t.list.length&&t.pageShow?e("no-data",{attrs:{txt:"暂无任何处方信息"}}):t._e(),t._v(" "),e("div",{staticClass:"searchBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"输入名字或诊断"},domProps:{value:t.search},on:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.searchFor(n):null},input:function(n){n.target.composing||(t.search=n.target.value)}}}),t._v(" "),e("i"),t._v(" "),e("span",{staticClass:"btn",on:{click:t.searchFor}},[t._v("搜索")])]),t._v(" "),e("div",{staticClass:"sort"},t._l(t.sorList,function(n,a){return e("p",{key:a,on:{click:function(n){t.sort(a)}}},[t._v(t._s(n)),e("i")])})),t._v(" "),1===t.idx?e("div",{staticClass:"sortList"},t._l(t.statusList,function(n,a){return e("p",{key:a,class:{on:t.status==n},on:{click:function(e){t.chose1(n)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t"),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),2===t.idx?e("div",{staticClass:"sortList"},t._l(t.buyList,function(n,a){return e("p",{key:a,class:{on:t.buy==n},on:{click:function(e){t.chose2(n)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t"),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),0===t.idx?e("div",{staticClass:"sortList"},t._l(t.dateList,function(n,a){return e("p",{key:a,class:{on:t.date==n},on:{click:function(e){t.chose(n)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t"),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),e("div",{ref:"el3",staticClass:"content"},[t.show3?e("p",{staticClass:"reload"},[t._v("下拉刷新列表")]):t._e(),t._v(" "),t._l(t.list,function(n,a){return e("div",{key:a,staticClass:"card",on:{click:function(e){t.getDetail(n)}}},[e("div",{staticClass:"box"},[e("div",{staticClass:"l"},[e("div",{staticClass:"o"},[e("div",{staticClass:"tm"},[t._v("诊断："+t._s(n.ExtendJson.Diagnoses))]),t._v(" "),1==n.DeliveryStatus?e("div",{staticClass:"m"},[t._v("待发货")]):2==n.DeliveryStatus?e("div",{staticClass:"m"},[t._v("待收货")]):3==n.DeliveryStatus?e("div",{staticClass:"m"},[t._v("已完成")]):4==n.DeliveryStatus&&5!=n.PayStatus?e("div",{staticClass:"m"},[t._v("已取消")]):e("div",{staticClass:"m"},[t._v(t._s(t._f("PayStatus")(n.PayStatus)))])]),t._v(" "),e("div",{staticClass:"s f"},[e("div",{staticClass:"tb"},[t._v(t._s(n.PatientName)+" "+t._s(t._f("toSex")(n.PatientSex))+" "+t._s(n.PatientAge))]),t._v(" "),e("div",{staticClass:"b"},[t._v(t._s(t._f("toServiceType")(n.ServiceType)))])]),t._v(" "),e("div",{staticClass:"s"},t._l(n.ExtendJson.PrescriptionDetails,function(a,i){return e("span",{key:i},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a.Name)+"×"+t._s(a.Quantity)+" "),n.ExtendJson.PrescriptionDetails&&i<n.ExtendJson.PrescriptionDetails.length-1?e("span",[t._v("、")]):t._e()])})),t._v(" "),e("div",{staticClass:"s"},[t._v("\n\t\t\t\t\t\t\t开方时间："+t._s(t._f("timeCut")(n.ExtendJson.PrescribeTime))+"\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"s"},[t._v("\n\t\t\t\t\t\t\t药品金额："+t._s(n.ExtendJson.TotalPrice)+"元\n\t\t\t\t\t\t")])])]),t._v(" "),e("div",{staticClass:"bbox"},[e("div",{staticClass:"o"},[t._v("\n\t\t\t\t\t\t审方状态："),e("span",[t._v(t._s(t._f("PreStatus")(n.ExtendJson.Status)))])]),t._v(" "),2==n.ExtendJson.Status?e("div",{staticClass:"t"},[e("div",[t._v("\n\t\t\t\t\t\t\t驳回理由：\n\t\t\t\t\t\t")]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(n.ExtendJson.RejectReason)+"\n\t\t\t\t\t\t")])]):t._e()])])}),t._v(" "),t.loading?e("p",{staticClass:"reload"},[t._v("正在加载...")]):t._e(),t._v(" "),!t.haveMore&&t.list.length?e("p",{staticClass:"reload"},[t._v("已显示全部内容")]):t._e()],2),t._v(" "),null!==t.idx?e("div",{staticClass:"mask",on:{click:function(n){t.idx=null}}}):t._e()],1)},d=[],l={render:r,staticRenderFns:d},c=l,b=e("VU/8"),p=a,u=b(o,c,!1,p,"data-v-5ab7d16d",null);n.default=u.exports}});