webpackJsonp([71],{RMzJ:function(t,n,e){"use strict";function i(t){e("oe06")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("8pLc"),s=e("pKZN"),c=(a.a,s.a,{components:{noData:a.a,back:s.a},data:function(){return{page:1,haveMore:!0,list:[],user:this.$store.state.userInfo.Data,pageShow:!1,sorList:["全部服务项","全部订单"],index:null,allServerList:[],allOrderList:[{name:"全部订单",val:"-1"},{name:"已支付",val:"2"},{name:"已退款",val:"5"}],allServer:{name:"全部服务项",val:"0"},allOrder:{name:"全部订单",val:"-1"}}},created:function(){this.pull(!1)},mounted:function(){this.getMore(),this.getService()},beforeDestroy:function(){window.onscroll=null},methods:{chose:function(t){console.log(t),this.allServer=t,this.sorList[this.index]=t.name,this.index=null,this.haveMore=!0,this.page=1,this.pull(!1)},chose1:function(t){this.allOrder=t,this.sorList[this.index]=t.name,this.index=null,this.haveMore=!0,this.page=1,this.pull(!1)},sort:function(t){this.index==t?this.index=null:this.index=t},goDetail:function(t){this.$router.push("/server-order-detial?id="+t.PayOrderId)},pull:function(t){var n=this;this.haveMore&&this.$post("/PlatFormAPI/PayOrder/QueryDoctorPackPayOrderPage",{DrId:this.user.User.DoctorId,ServiceItemId:this.allServer.val,PayStatus:this.allOrder.val,PageIndex:this.page,PageSize:15}).then(function(e){n.pageShow=!0,!e.ReturnData||e.ReturnData.length<15?n.haveMore=!1:n.haveMore=!0,t?e.ReturnData.forEach(function(t){n.list.push(t)}):n.list=e.ReturnData})},getMore:function(){var t=this,n=this.$refs.el,e=null;window.onscroll=function(){clearTimeout(e),e=setTimeout(function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;n.scrollHeight-e-window.innerHeight<100&&t.haveMore&&(t.page+=1,t.pull(!0))},100)}},getService:function(){var t=this;this.$get("/PlatFormAPI/PayOrder/QueryDoctorServiceTerm",{DrId:this.user.User.DoctorId,DrType:1}).then(function(n){t.allServerList=n.map(function(t,n){return{name:t.DoctorServiceWayName,val:t.ServiceItemId}})})}}}),r=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{ref:"el",staticClass:"pdt"},[i("div",{staticClass:"title"},[i("back"),t._v(" "),i("span",{staticClass:"name"},[t._v("服务包订单")]),t._v(" "),i("a")],1),t._v(" "),i("div",{staticClass:"sort"},t._l(t.sorList,function(n,e){return i("p",{key:e,on:{click:function(n){t.sort(e)}}},[t._v(t._s(n)),i("i")])})),t._v(" "),0===t.index?i("div",{staticClass:"sortList"},t._l(t.allServerList,function(n,e){return i("p",{key:e,class:{on:t.allServer==n},on:{click:function(e){t.chose(n)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t"),i("i",{staticClass:"check"})])})):t._e(),t._v(" "),1===t.index?i("div",{staticClass:"sortList"},t._l(t.allOrderList,function(n,e){return i("p",{key:e,class:{on:t.allOrder==n},on:{click:function(e){t.chose1(n)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t\t"),i("i",{staticClass:"check"})])})):t._e(),t._v(" "),!t.list.length&&t.pageShow?i("no-data",{attrs:{txt:"暂无订单"}}):t._e(),t._v(" "),t._l(t.list,function(n,a){return i("div",{key:a,staticClass:"items",on:{click:function(e){t.goDetail(n)}}},[i("div",{staticClass:"l"},[n.PicturePath?i("img",{staticClass:"img",attrs:{src:n.PicturePath,alt:""}}):i("img",{staticClass:"img",attrs:{src:e("90qH"),alt:""}}),t._v(" "),i("div",{staticClass:"t"},[i("div",[t._v(t._s(n.RelationName))]),t._v(" "),i("div",[t._v(t._s(n.PatientName)+" "+t._s(t._f("toSex")(n.PatientSex))+" "+t._s(n.Age))]),t._v(" "),i("div",[t._v(t._s(t._f("timeCut")(n.PayOrderTime)))]),t._v(" "),i("div",[t._v("订单编号："+t._s(n.PayOrderNo))])])]),t._v(" "),i("div",{staticClass:"r"},[i("div",[t._v("￥"+t._s(n.Amount))]),t._v(" "),i("div",[t._v(t._s(t._f("serverorderStatus")(n.PayStatus)))])])])}),t._v(" "),null!==t.index?i("div",{staticClass:"mask",on:{click:function(n){t.index=null}}}):t._e()],2)},o=[],l={render:r,staticRenderFns:o},d=l,v=e("VU/8"),b=i,f=v(c,d,!1,b,"data-v-c9c2cb82",null);n.default=f.exports},TXAl:function(t,n,e){var i=e("kxFB");n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.items[data-v-c9c2cb82] {\n  background: #fff;\n  margin: 0 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  padding: 0.53333rem 0 0.26667rem 0;\n  border-bottom: 1px solid #e5e5e5;\n}\n.items .l[data-v-c9c2cb82] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.items .l .img[data-v-c9c2cb82] {\n      -webkit-flex-shrink: 0;\n              flex-shrink: 0;\n      width: 1.14667rem;\n      height: 1.14667rem;\n      border-radius: 50%;\n}\n.items .l .t[data-v-c9c2cb82] {\n      width: 100%;\n      margin-left: 0.21333rem;\n}\n.items .l .t div[data-v-c9c2cb82]:nth-child(1) {\n        font-size: 16px;\n        color: #333333;\n}\n.items .l .t div[data-v-c9c2cb82]:nth-child(2) {\n        font-size: 13px;\n        color: #999999;\n        margin: 0.08rem 0;\n}\n.items .l .t div[data-v-c9c2cb82]:nth-child(3) {\n        font-size: 13px;\n        color: #999999;\n        margin: 0 0 0.08rem;\n}\n.items .l .t div[data-v-c9c2cb82]:nth-child(4) {\n        font-size: 13px;\n        color: #999999;\n}\n.items .r div[data-v-c9c2cb82]:nth-child(1) {\n    font-size: 13px;\n    color: #333333;\n}\n.items .r div[data-v-c9c2cb82]:nth-child(2) {\n    font-size: 13px;\n    margin: 0.08rem 0;\n    color: #FB1943;\n    text-align: right;\n}\n.pdt[data-v-c9c2cb82] {\n  background: #fff;\n}\n.card[data-v-c9c2cb82] {\n  background: #fff;\n  margin-top: 0.26667rem;\n}\n.card p[data-v-c9c2cb82] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    padding: 0 0.4rem;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    height: 1.46667rem;\n    color: #6b6b6b;\n}\n.card .tit[data-v-c9c2cb82] {\n    height: 1.2rem;\n    color: #333333;\n}\n.card .date[data-v-c9c2cb82] {\n    padding: 0 0.4rem 0.4rem;\n    color: #a6a6a6;\n    display: block;\n}\n.pdt[data-v-c9c2cb82] {\n  padding-top: 2.13333rem;\n}\n.sort[data-v-c9c2cb82] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 0.93333rem;\n  border-bottom: 1px solid #ececec;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  background: #fff;\n  position: fixed;\n  top: 1.2rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  font-size: 14px;\n}\n.sort p[data-v-c9c2cb82] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 100%;\n}\n.sort p i[data-v-c9c2cb82] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+i(e("usbB"))+") no-repeat center;\n      margin-left: 0.26667rem;\n}\n.sortList[data-v-c9c2cb82] {\n  min-height: 2.66667rem;\n  overflow: scroll;\n  padding: 0 0.66667rem;\n  font-size: 14px;\n  background: #fff;\n  position: fixed;\n  top: 2.13333rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n}\n.sortList p[data-v-c9c2cb82] {\n    height: 0.93333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    color: #999;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.sortList .on[data-v-c9c2cb82] {\n    color: #3069cf;\n}\n.sortList .on .check[data-v-c9c2cb82] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+i(e("rNPe"))+") no-repeat center;\n      background-size: contain;\n}\n.mask[data-v-c9c2cb82] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n}\n",""])},oe06:function(t,n,e){var i=e("TXAl");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("391b04dd",i,!0,{})}});