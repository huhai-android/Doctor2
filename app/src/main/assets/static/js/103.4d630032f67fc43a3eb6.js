webpackJsonp([103],{"30DS":function(t,e,n){"use strict";function a(t){n("xxkh")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("pKZN"),r=n("wsTN"),s=(r.default,i.a,{data:function(){return{title:"",empgasisNumber:0,placeholder:"请输入患者相关信息",arr:[],page:1,size:15,search:"",listStart:!0,start404:!1,start1:!0,start2:!0,start3:!0,haveMore:!0,PatientName:"",show:!1,Total:"",DrId:null==this.$store.state.userInfo?2:this.$store.state.userInfo.Data.User.DoctorId,operation:!1,operationText:"编辑",showConfirm:!1,pPatientId:"",name:"",MFItemId:"",MFItemArr:[]}},components:{searchCustom:r.default,back:i.a},methods:{operationList:function(){var t=this,e=this.$store.state.grouapsArr;this.MFItemId=e.MFItemId;var n=[];this.MFItemArr.forEach(function(t){n.push(t.PatientId)}),0!=n.length&&this.$post("PlatFormAPI/Memberfeatures/BacthMemberfeaturesPatient",{DrId:this.DrId,MFItemId:e.MFItemId,MFItemName:e.MFItemName,PatientIds:n}).then(function(e){e&&t.$router.back()})},patientSex:function(t){switch(t){case 1:return"男";case 2:return"女";case 3:return"未知"}},searchFor:function(){this.page=1,this.haveMore=!0,this.httpStart()},httpStart:function(t){var e=this;if(this.haveMore){var n={},a=this.$store.state.grouapsArr;this.MFItemId=a.MFItemId,void 0!=a.MFItemName?this.title=a.MFItemName:this.title="",n.url="/PlatFormAPI/DoctorPatient/QueryDoctorPatientMemberfuresByPage",n.parameter={DrId:a.DrId,MFItemId:a.MFItemId,PatientName:this.search,PageIndex:this.page,PageSize:this.size},this.$post(n.url,n.parameter).then(function(n){""==n.ReturnData||n.ReturnData==[]||void 0==n.ReturnData?e.start404=!0:e.start404=!1,!n.ReturnData||n.ReturnData.length<10?e.haveMore=!1:e.haveMore=!0,t?n.ReturnData.forEach(function(t){e.arr.push(t)}):e.arr=n.ReturnData,e.Total=n.Total,n&&(e.arr.map(function(t,n){e.arr[n].checkedNames="circle"}),e.MFItemArr.length>0&&e.arr.map(function(t,n){e.MFItemArr.map(function(a,i){t.PatientId==a.PatientId&&(e.arr[n].checkedNames="success")})}))})}},toArc:function(t,e){var n=this;this.listStart=!1,"circle"==this.arr[t].checkedNames?(this.MFItemArr.push(e),this.arr[t].checkedNames="success"):(this.MFItemArr.map(function(t,a){e.PatientId==t.PatientId&&n.MFItemArr.splice(a,1)}),this.arr[t].checkedNames="circle"),this.listStart=!0,console.log(this.MFItemArr)},getMore:function(){var t=this,e=this.$refs.el,n=null;window.onscroll=function(){clearTimeout(n),n=setTimeout(function(){var n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e.scrollHeight-n-window.innerHeight<100&&t.haveMore&&t.Total>t.size&&(t.page+=1,t.httpStart(!0))},100)}}},mounted:function(){var t=this;t.getMore(),t.$bridge.registerhandler("em",function(e,n){t.httpStart(t.$route.params.start),n("接收到数据")})},beforeDestroy:function(){window.onscroll=null},created:function(){this.httpStart()}}),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{ref:"el",staticClass:"main pdt",attrs:{id:"empgasis"}},[a("div",{staticClass:"title"},[a("back"),t._v(" "),a("span",{staticClass:"name"},[t._v("添加患者")]),t._v(" "),a("span",{staticClass:"save",on:{click:function(e){t.operationList()}}},[t._v("保存")])],1),t._v(" "),a("div",{staticClass:"searchBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search",attrs:{placeholder:"",type:"text"},domProps:{value:t.search},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchFor(e):null},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),a("span",{staticClass:"sBtn",on:{click:t.searchFor}},[t._v("搜索")])]),t._v(" "),t.listStart?a("div",{staticClass:"empgasis-grid"},[a("div",{staticClass:"start3"},t._l(t.arr,function(e,i){return a("div",{key:i,staticClass:"item"},[e.PaPicturePath?a("img",{attrs:{src:e.PaPicturePath}}):a("img",{attrs:{src:n("uLfx")}}),t._v(" "),a("div",[a("p",{staticClass:"atten"},[a("span",{staticClass:"name"},[t._v(t._s(e.PatientName))]),t._v(" "),a("span",{staticClass:"sex"},[t._v(t._s(t.patientSex(e.PatientSex))+" | "+t._s(e.Age||""))])]),t._v(" "),a("span",{staticClass:"symptom"},[t._v(t._s(e.Disease||"暂无疾病标签"))])]),t._v(" "),a("span",{staticClass:"iconM",on:{click:function(n){t.toArc(i,e)}}},[a("icon",{attrs:{type:e.checkedNames}})],1)])}))]):t._e(),t._v(" "),t.start404?a("div",{staticClass:"h404"},[t._v("\n\t\t\t暂无数据\n\t\t")]):t._e(),t._v(" "),a("toast",{attrs:{name:"show",time:1e3},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("操作成功")])],1)},d=[],c={render:o,staticRenderFns:d},l=c,m=n("VU/8"),p=a,h=m(s,l,!1,p,"data-v-68403669",null);e.default=h.exports},ZrPL:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,'\n@charset "UTF-8";\n.vux-patient-header[data-v-68403669] {\n  position: relative;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n.vux-patient-header-back[data-v-68403669] {\n  color: #3069cf;\n}\n.vux-patient-header .vux-patient-header-left[data-v-68403669], .vux-patient-header .vux-patient-header-right[data-v-68403669] {\n  position: absolute;\n  top: 0.38667rem;\n  display: block;\n  font-size: 16px;\n  line-height: 1;\n  color: #666;\n}\n.vux-patient-header .vux-patient-header-left[data-v-68403669] {\n  left: 0.53333rem;\n}\n.vux-patient-header-title-area[data-v-68403669], .vux-patient-header .vux-patient-header-title[data-v-68403669] {\n  margin: 0 0.53333rem;\n  height: 1.17333rem;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.vux-patient-header .vux-patient-header-title[data-v-68403669] {\n  line-height: 1.17333rem;\n  text-align: center;\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n}\n.vux-patient-header .vux-patient-header-right[data-v-68403669] {\n  right: 0.53333rem;\n}\n.vux-flexbox[data-v-68403669] {\n  padding: 0 0.53333rem;\n  background-color: #fff;\n}\n.flex-demo[data-v-68403669] {\n  text-align: center;\n}\n.vux-flexbox-item[data-v-68403669] {\n  border-top: 1px solid #f4f4f4;\n  padding-top: 0.53333rem;\n  padding-bottom: 0.33333rem;\n  font-size: 14px;\n}\n#patient .vux-search-box[data-v-68403669] {\n  padding: 0.32rem 0 !important;\n}\n/*搜索更改*/\n.clearfix[data-v-68403669]:before,\n.clearfix[data-v-68403669]:after {\n  content: " ";\n  display: table;\n}\n.clearfix[data-v-68403669]:after {\n  clear: both;\n}\n/**\r\n * For IE 6/7 only\r\n */\n.clearfix[data-v-68403669] {\n  *zoom: 1;\n}\n.weui-icon-circle[data-v-68403669], .weui-icon-success[data-v-68403669] {\n  font-size: 13px;\n}\n#app .searchCustomPadding[data-v-68403669] {\n  padding-top: 1.2rem;\n}\n.h404[data-v-68403669] {\n  padding: 0.26667rem;\n  text-align: center;\n  background-color: #fff;\n}\n.empgasis-grid[data-v-68403669] {\n  margin-top: 0.26667rem;\n  background-color: #fff;\n  padding: 0 0 0 0.53333rem;\n}\n.empgasis-grid .item[data-v-68403669] {\n    padding-bottom: 0.4rem;\n    padding-right: 0.53333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    position: relative;\n    padding-top: 0.4rem;\n    border-bottom: 1px solid #f4f4f4;\n}\n.empgasis-grid .item div[data-v-68403669] {\n      width: 100%;\n}\n.empgasis-grid .item span[data-v-68403669] {\n      display: block;\n}\n.empgasis-grid .item img[data-v-68403669] {\n      min-width: 1.06667rem;\n      min-height: 1.06667rem;\n      max-width: 1.06667rem;\n      max-height: 1.06667rem;\n      border-radius: 50%;\n      margin-right: 0.4rem;\n}\n.empgasis-grid .item .name[data-v-68403669] {\n      font-size: 15px;\n      margin-bottom: 0.10667rem;\n      color: #333;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n}\n.empgasis-grid .item .symptom[data-v-68403669] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      width: 100%;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n              justify-content: space-between;\n      font-size: 13px;\n      color: #999;\n}\n.empgasis-grid .item .sex[data-v-68403669] {\n      margin-left: 0.4rem;\n      font-size: 12px;\n      line-height: 1;\n      padding-top: 0.10667rem;\n}\n.empgasis-grid .item #sex[data-v-68403669] {\n      margin-left: 0.26667rem;\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n              flex: 1;\n      text-align: right;\n}\n.empgasis-grid .item p[data-v-68403669] {\n      font-size: 13px;\n}\n.empgasis-grid .item .atten[data-v-68403669] {\n      margin-bottom: 0.26667rem;\n}\n.empgasis-grid .item .atten span[data-v-68403669] {\n        display: inline;\n}\n.empgasis-grid .item .iconM[data-v-68403669] {\n      display: inline-block;\n      width: 1.33333rem;\n      padding-left: 0.66667rem;\n}\n.empgasis-grid .item[data-v-68403669]:last-child {\n    margin-bottom: 0;\n    border-bottom: 0 solid;\n}\n.start1 .item[data-v-68403669]:last-child, .start2 .item[data-v-68403669]:last-child, .start3 .item[data-v-68403669]:last-child {\n  border-bottom: 0 solid;\n}\n.searchBox[data-v-68403669] {\n  height: 1.17333rem;\n  width: 100%;\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 0.4rem;\n}\n.searchBox input[data-v-68403669] {\n    width: 80%;\n    height: 0.8rem;\n    display: block;\n    margin: auto;\n    border: 1px solid #ccc;\n    border-radius: 20px;\n    padding: 0 0.4rem;\n}\n.searchBox .sBtn[data-v-68403669] {\n    min-width: 1.6rem;\n    height: 0.8rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    background: #306bce;\n    color: #fff;\n    border-radius: 10px;\n    margin-left: 0.26667rem;\n}\n#app .addBtn[data-v-68403669] {\n  position: absolute;\n  bottom: 0.44rem;\n  right: 2.02667rem;\n  width: 1.33333rem;\n  height: auto;\n  padding: 0.13333rem 0;\n  background-color: #3069cf;\n  color: #fff;\n  text-align: center;\n  border-radius: 0.10667rem;\n  font-size: 13px;\n  margin-top: 0;\n}\n#app .downBtn[data-v-68403669] {\n  position: absolute;\n  bottom: 0.44rem;\n  right: 0.53333rem;\n  width: 1.33333rem;\n  height: auto;\n  padding: 0.13333rem 0;\n  background-color: #ccc;\n  color: #fff;\n  text-align: center;\n  border-radius: 0.10667rem;\n  font-size: 13px;\n  margin-top: 0;\n}\n#app .Btn[data-v-68403669] {\n  position: absolute;\n  bottom: 0.44rem;\n  right: 0.53333rem;\n  width: 1.17333rem;\n  height: 0.53333rem;\n  line-height: 0.53333rem;\n  text-align: center;\n  border-radius: 0.10667rem;\n  font-size: 12px;\n  margin-top: 0;\n  color: #999;\n}\n.delPatient[data-v-68403669] {\n  width: 2.13333rem;\n  line-height: 0.6rem;\n  height: 0.6rem;\n  border: 1px #306bce solid;\n  text-align: center;\n  border-radius: 0.13333rem;\n  font-size: 14px;\n  color: #306bce;\n  margin-top: 0.4rem;\n}\n.addPatientName[data-v-68403669] {\n  position: fixed;\n  width: 30%;\n  line-height: 0.8rem;\n  left: 35%;\n  bottom: 0.26667rem;\n  background-color: #306bce;\n  color: #fff;\n  border-radius: 0.13333rem;\n  text-align: center;\n  font-size: 14px;\n  box-shadow: 3px 5px 5px #999;\n}\n.input-checkbox[data-v-68403669] {\n  width: 0.4rem;\n  height: 0.4rem;\n  border-radius: 50%;\n  border: 1px #ccc solid;\n  display: block;\n}\n',""])},xxkh:function(t,e,n){var a=n("ZrPL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("14ca16c6",a,!0,{})}});