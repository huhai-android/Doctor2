webpackJsonp([151],{"48wf":function(t,e,a){"use strict";function i(t){a("zW1f")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("8pLc"),s=a("pKZN"),o=(n.a,s.a,{components:{noData:n.a,back:s.a},data:function(){return{dShow:!1,AppointmentList:[],HospitalName:this.$store.state.saveVipData.Hospital.HospitalName,index:null,itemShow:!1,itemList:[],item:[],HospitalList:[],DepartmentList:[],areaList:[],num:0,DepartmentId:this.$store.state.saveVipData&&this.$store.state.saveVipData.Department?this.$store.state.saveVipData.Department.DepartmentId:0,vipList:this.$store.state.saveVipData.vipList,ListDetails:this.$store.state.preList}},created:function(){this.getArea(),this.getAppointment(this.DepartmentId,this.$store.state.saveVipData.Department)},methods:{dDialog:function(){this.dShow=!this.dShow},getArea:function(){var t=this;this.$get("AppointmentAPI/Appointment/GetApHospitalCity",{}).then(function(e){var a=[];e.forEach(function(t){a.push(t.CityName)}),a.unshift("全部地区"),t.itemList=[a],t.areaList=e;var i=0;t.$store.state.saveVipData&&t.$store.state.saveVipData.CityName?t.areaList.forEach(function(e){e.CityName===t.$store.state.saveVipData.CityName&&(t.item[0]=e.CityName,i=e.CityId)}):(t.item[0]="全部地区",i=0),t.getHospital(i)})},getHospital:function(t){var e=this;this.$post("AppointmentAPI/Appointment/QueryApHospitalPage",{HospitalName:"",CityId:t,AppointmentTypeId:this.$store.state.saveVipData.AppointmentTypeId,PageIndex:1,PageSize:100}).then(function(t){e.HospitalList=t.ReturnData,e.$store.state.saveVipData&&e.$store.state.saveVipData.Hospital?e.getDepartment(e.$store.state.saveVipData.Hospital):e.getDepartment(e.HospitalList[0])})},getDepartment:function(t,e){var a=this;if(!t)return void(this.DepartmentList=[]);this.HospitalList.forEach(function(e,i){t.HospitalId===e.HospitalId&&(a.num=i,a.$store.state.saveVipData.Hospital=t,a.$store.dispatch("pushsaveVipData",a.$store.state.saveVipData))}),this.$post("AppointmentAPI/Appointment/QueryApDepartmentPage",{HospitalId:t.HospitalId,HospitalName:t.HospitalName,PageIndex:1,PageSize:100}).then(function(t){a.DepartmentList=t.ReturnData})},getAppointment:function(t,e){var a=this;this.DepartmentId=t,this.$store.state.saveVipData.Department=e,this.$store.dispatch("pushsaveVipData",this.$store.state.saveVipData),this.dShow=!1,this.$get("AppointmentAPI/Appointment/QueryAppointmentPrices",{DepartmentId:t}).then(function(t){a.AppointmentList=t})},changeVal:function(){var t=this,e=0,a=0;this.areaList.forEach(function(i){i.CityName===t.item[0]&&(a=i.CityId,e=1)}),this.getHospital(a),this.$store.state.saveVipData.Hospital=null,this.$store.state.saveVipData.CityName=this.item[0],this.$store.dispatch("pushsaveVipData",this.$store.state.saveVipData)},goAllGoods:function(t){var e=this,a=this.vipList;if(a.GoodsNum=1,a.isVip=2,a.GoodsId=t.ApPriceId,a.DrPositionName=t.DrPositionName,a.FirstTypeName=t.FirstTypeName,a.SecondTypeName=t.SecondTypeName,a.HospitalName=t.HospitalName,a.DepartmentName=t.DepartmentName,a.IsAppointment=t.IsAppointment,a.VipPrice=t.AppointmentPrice,a.RecommondAmount=t.RecomAmount,this.ListDetails&&this.ListDetails.length){var i=0;this.ListDetails.forEach(function(t,n){t.GoodsSource==e.vipList.GoodsSource&&t.SpecialistGoodsId==e.vipList.SpecialistGoodsId&&t.SpecialistHosGroupId==e.vipList.SpecialistHosGroupId&&t.GoodsId==e.vipList.GoodsId&&(e.ListDetails.splice(n,1,a),i=1)}),0==i&&this.ListDetails.push(a)}else this.ListDetails.push(a);this.$store.dispatch("pushnavNum",1),this.$store.dispatch("pushpreList",this.ListDetails),this.$store.dispatch("pushsaveVipData",this.$store.state.saveVipData),this.$router.push("/allGoods")}}}),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"el",staticClass:"pdt"},[a("div",{staticClass:"title"},[a("back"),t._v(" "),a("span",{staticClass:"name"},[t._v("VIP预约")]),t._v(" "),a("span")],1),t._v(" "),a("div",{staticClass:"department"},[a("div",{staticClass:"deSorts"},[a("p",{on:{click:function(e){return t.dDialog()}}},[t._v(t._s(t.HospitalName)),a("i")])]),t._v(" "),a("div",{staticClass:"departmentMain"},t._l(t.AppointmentList,function(e,i){return a("div",{key:i,staticClass:"departmentTab"},[a("div",{staticClass:"departmentTab-l"},[a("h6",[t._v(t._s(e.DrPositionName))]),t._v(" "),a("p",[t._v(t._s(e.FirstTypeName)+" "+t._s(e.SecondTypeName))]),t._v(" "),a("p",[t._v(t._s(e.HospitalName)+" "+t._s(e.DepartmentName))]),t._v(" "),a("p",{staticClass:"red"},[e.IsAppointment?a("em",[t._v("预约金：")]):t._e(),t._v("￥"+t._s(Number(e.AppointmentPrice)))]),t._v(" "),a("p",[a("span",[t._v("优选服务费"+t._s(Number(e.RecomAmount))+"元")])])]),t._v(" "),a("div",{staticClass:"departmentTab-r",on:{click:function(a){return t.goAllGoods(e)}}},[a("icon",{attrs:{type:"circle"}})],1)])}),0)]),t._v(" "),t.dShow?a("div",{staticClass:"departmentDialog"},[a("div",{staticClass:"sorts"},[a("p",{on:{click:function(e){t.itemShow=!0}}},[t._v(t._s(t.item[0]?t.item[0]:"全部地区")),a("i")])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"l"},t._l(t.HospitalList,function(e,i){return a("div",{key:i,class:{on:t.num==i},on:{click:function(a){return t.getDepartment(e,i)}}},[t._v(t._s(e.HospitalName))])}),0),t._v(" "),a("div",{staticClass:"r"},t._l(t.DepartmentList,function(e,i){return a("div",{key:i,class:{on:t.DepartmentId===e.DepartmentId},on:{click:function(a){return t.getAppointment(e.DepartmentId,e)}}},[t._v(t._s(e.DepartmentName)+" "),a("em")])}),0)])]):t._e(),t._v(" "),t.dShow?a("div",{staticClass:"departmentDialogBg"}):t._e(),t._v(" "),a("popup-picker",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{show:t.itemShow,data:t.itemList},on:{"on-change":function(e){return t.changeVal()},"on-hide":function(e){t.itemShow=!1}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)},A=[],d={render:r,staticRenderFns:A},p=d,l=a("C7Lr"),c=i,m=l(o,p,!1,c,"data-v-20aced32",null);e.default=m.exports},E3ns:function(t,e,a){var i=a("L4zZ");e=t.exports=a("UTlt")(!0),e.push([t.i,"\n.department .deSorts[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;height:1.2rem;border-bottom:1px solid #ececec;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:0 .4rem;font-size:14px\n}\n.department .deSorts p[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:100%;font-size:15px\n}\n.department .deSorts p i[data-v-20aced32]{display:block;width:.4rem;height:.4rem;background:url("+i(a("usbB"))+") no-repeat center;margin-left:.26667rem;margin-top:.13333rem\n}\n.department .departmentMain[data-v-20aced32]{padding-bottom:.4rem\n}\n.department .departmentMain .departmentTab[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.26667rem .4rem;border-bottom:1px solid #eee\n}\n.department .departmentMain .departmentTab h6[data-v-20aced32]{font-size:16px\n}\n.department .departmentMain .departmentTab p[data-v-20aced32]{font-size:14px;color:#888888;margin-top:.10667rem\n}\n.department .departmentMain .departmentTab p span[data-v-20aced32]{display:inline-block;padding:.13333rem .4rem;border-radius:.26667rem;background-color:#ff8daa;font-size:12px;color:#fff\n}\n.department .departmentMain .departmentTab p em[data-v-20aced32]{font-style:normal\n}\n.department .departmentMain .departmentTab p.red[data-v-20aced32]{color:red\n}\n.departmentDialog[data-v-20aced32]{position:fixed;z-index:10;width:100%;height:60vh;left:0;top:1.2rem;background-color:#fff\n}\n.departmentDialogBg[data-v-20aced32]{position:fixed;z-index:9;width:100%;height:100%;left:0;top:0;background-color:#333;opacity:0.5\n}\n.departmentTab-r[data-v-20aced32]{padding-top:1.06667rem\n}\n.sorts[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;height:.93333rem;border-bottom:1px solid #ececec;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:0 .4rem;top:1.2rem;font-size:14px\n}\n.sorts p[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:100%;font-size:15px\n}\n.sorts p i[data-v-20aced32]{display:block;width:.4rem;height:.4rem;background:url("+i(a("usbB"))+") no-repeat center;margin-left:.26667rem;margin-top:.13333rem\n}\n.box[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;height:60vh;font-size:13px\n}\n.box .l[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow-y:scroll;background-color:#f7f8fa\n}\n.box .l div[data-v-20aced32]{padding-left:.4rem;line-height:1.06667rem;border-bottom:1px solid #eeeff0;font-size:16px\n}\n.box .l div.on[data-v-20aced32]{background-color:#fff\n}\n.box .r[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow-y:scroll\n}\n.box .r div[data-v-20aced32]{padding-left:.4rem;line-height:1.06667rem;border-bottom:1px solid #f1f1f2;position:relative;font-size:14px\n}\n.box .r div em[data-v-20aced32]{display:block;width:.42667rem;height:.42667rem;background:url("+i(a("WjqE"))+") no-repeat;background-size:contain;position:absolute;top:.33333rem;right:.4rem\n}\n.box .r div.on[data-v-20aced32]{background-color:#fff\n}\n.pdt[data-v-20aced32]{padding-bottom:0;background-color:#fff\n}\n","",{version:3,sources:["E:/project/NetHosp/xqdMedical/src/page/vip/vipDepartment.vue"],names:[],mappings:";AACA,sCAAsC,oBAAoB,qBAAqB,aAAa,cAAc,gCAAgC,yBAAyB,2BAA2B,mBAAmB,gBAAgB,gBAAgB,cAAc;CAC9P;AACD,wCAAwC,mBAAmB,eAAe,OAAO,oBAAoB,qBAAqB,aAAa,yBAAyB,2BAA2B,mBAAmB,uBAAuB,mCAAmC,2BAA2B,YAAY,cAAc;CAC5T;AACD,0CAA0C,cAAc,YAAY,aAAa,0DAAiE,sBAAsB,oBAAoB;CAC3L;AACD,6CAA6C,oBAAoB;CAChE;AACD,4DAA4D,oBAAoB,qBAAqB,aAAa,yBAAyB,sCAAsC,8BAA8B,wBAAwB,4BAA4B;CAClQ;AACD,+DAA+D,cAAc;CAC5E;AACD,8DAA8D,eAAe,cAAc,oBAAoB;CAC9G;AACD,mEAAmE,qBAAqB,wBAAwB,wBAAwB,yBAAyB,eAAe,UAAU;CACzL;AACD,iEAAiE,iBAAiB;CACjF;AACD,kEAAkE,SAAS;CAC1E;AACD,mCAAmC,eAAe,WAAW,WAAW,YAAY,OAAO,WAAW,qBAAqB;CAC1H;AACD,qCAAqC,eAAe,UAAU,WAAW,YAAY,OAAO,MAAM,sBAAsB,WAAW;CAClI;AACD,kCAAkC,sBAAsB;CACvD;AACD,wBAAwB,oBAAoB,qBAAqB,aAAa,iBAAiB,gCAAgC,yBAAyB,2BAA2B,mBAAmB,gBAAgB,gBAAgB,WAAW,cAAc;CAC9P;AACD,0BAA0B,mBAAmB,eAAe,OAAO,oBAAoB,qBAAqB,aAAa,yBAAyB,2BAA2B,mBAAmB,uBAAuB,mCAAmC,2BAA2B,YAAY,cAAc;CAC9S;AACD,4BAA4B,cAAc,YAAY,aAAa,0DAAiE,sBAAsB,oBAAoB;CAC7K;AACD,sBAAsB,oBAAoB,qBAAqB,aAAa,gBAAgB,YAAY,cAAc;CACrH;AACD,yBAAyB,mBAAmB,eAAe,OAAO,kBAAkB,wBAAwB;CAC3G;AACD,6BAA6B,mBAAmB,uBAAuB,gCAAgC,cAAc;CACpH;AACD,gCAAgC,qBAAqB;CACpD;AACD,yBAAyB,mBAAmB,eAAe,OAAO,iBAAiB;CAClF;AACD,6BAA6B,mBAAmB,uBAAuB,gCAAgC,kBAAkB,cAAc;CACtI;AACD,gCAAgC,cAAc,gBAAgB,iBAAiB,mDAAuD,wBAAwB,kBAAkB,cAAc,WAAW;CACxM;AACD,gCAAgC,qBAAqB;CACpD;AACD,sBAAsB,iBAAiB,qBAAqB;CAC3D",file:"vipDepartment.vue",sourcesContent:['\n.department .deSorts[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;height:1.2rem;border-bottom:1px solid #ececec;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:0 .4rem;font-size:14px\n}\n.department .deSorts p[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:100%;font-size:15px\n}\n.department .deSorts p i[data-v-20aced32]{display:block;width:.4rem;height:.4rem;background:url("~assets/Consultation/down.png") no-repeat center;margin-left:.26667rem;margin-top:.13333rem\n}\n.department .departmentMain[data-v-20aced32]{padding-bottom:.4rem\n}\n.department .departmentMain .departmentTab[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:.26667rem .4rem;border-bottom:1px solid #eee\n}\n.department .departmentMain .departmentTab h6[data-v-20aced32]{font-size:16px\n}\n.department .departmentMain .departmentTab p[data-v-20aced32]{font-size:14px;color:#888888;margin-top:.10667rem\n}\n.department .departmentMain .departmentTab p span[data-v-20aced32]{display:inline-block;padding:.13333rem .4rem;border-radius:.26667rem;background-color:#ff8daa;font-size:12px;color:#fff\n}\n.department .departmentMain .departmentTab p em[data-v-20aced32]{font-style:normal\n}\n.department .departmentMain .departmentTab p.red[data-v-20aced32]{color:red\n}\n.departmentDialog[data-v-20aced32]{position:fixed;z-index:10;width:100%;height:60vh;left:0;top:1.2rem;background-color:#fff\n}\n.departmentDialogBg[data-v-20aced32]{position:fixed;z-index:9;width:100%;height:100%;left:0;top:0;background-color:#333;opacity:0.5\n}\n.departmentTab-r[data-v-20aced32]{padding-top:1.06667rem\n}\n.sorts[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;height:.93333rem;border-bottom:1px solid #ececec;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:0 .4rem;top:1.2rem;font-size:14px\n}\n.sorts p[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:100%;font-size:15px\n}\n.sorts p i[data-v-20aced32]{display:block;width:.4rem;height:.4rem;background:url("~assets/Consultation/down.png") no-repeat center;margin-left:.26667rem;margin-top:.13333rem\n}\n.box[data-v-20aced32]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;height:60vh;font-size:13px\n}\n.box .l[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow-y:scroll;background-color:#f7f8fa\n}\n.box .l div[data-v-20aced32]{padding-left:.4rem;line-height:1.06667rem;border-bottom:1px solid #eeeff0;font-size:16px\n}\n.box .l div.on[data-v-20aced32]{background-color:#fff\n}\n.box .r[data-v-20aced32]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow-y:scroll\n}\n.box .r div[data-v-20aced32]{padding-left:.4rem;line-height:1.06667rem;border-bottom:1px solid #f1f1f2;position:relative;font-size:14px\n}\n.box .r div em[data-v-20aced32]{display:block;width:.42667rem;height:.42667rem;background:url("~assets/archives/enter.png") no-repeat;background-size:contain;position:absolute;top:.33333rem;right:.4rem\n}\n.box .r div.on[data-v-20aced32]{background-color:#fff\n}\n.pdt[data-v-20aced32]{padding-bottom:0;background-color:#fff\n}\n'],sourceRoot:""}])},zW1f:function(t,e,a){var i=a("E3ns");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("06792737",i,!0,{})}});
//# sourceMappingURL=151.5a87ee47555baf703027.js.map