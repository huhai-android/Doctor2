webpackJsonp([158],{"/71g":function(a,t,n){"use strict";function e(a){n("6iKN")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("U7mS"),r=n.n(i),s=n("pKZN"),d=(s.a,{components:{back:s.a},data:function(){return{DrId:this.$route.params.id,name:"",cardName:"",bank:"",number:"",verify:!1,verifyTxt:"",type:"cancel",BankImg:"",start:this.$route.params.start,DrBankCardId:this.$route.params.DrBankCardId,appleTn:!1,AndroidTn:!1,baName:1==this.$route.params.start?"添加银行卡":"修改银行卡",bl:{DisplayPath:"",SavePath:""}}},mounted:function(){var a=this;2==this.start&&this.$get("/PlatFormAPI/Doctor/QueryDoctorBankCardByDrId",{DrId:this.DrId}).then(function(t){null!=t&&void 0!=t&&""!=t&&(console.log(t),a.name=t.Name,a.number=t.CardNo,a.cardName=t.BankName,a.bank=t.OpenBank,a.bl.SavePath=t.BankImg)})},methods:{imgUpdate:function(a){var t=this,n=a.target.files[0];n&&(r()(n).then(function(a){var e=new FileReader;e.readAsDataURL(n);var i=t;e.onload=function(a){i.er=this.result.split("base64,")[1],i.$post("PlatFormAPI/PatientArchives/ReportImageUpload",{Base64Str:this.result.split("base64,")[1]}).then(function(a){i.bl.DisplayPath=a.DisplayPath,i.bl.SavePath=a.SavePath})}}),a.target.value=null)},getImg:function(a){var t=this;this.$bridge.callhandler("APP","Img",function(n){var e=n.split(",")[0].split("=")[1],i=n.split(",")[1].split("=")[1].split("}")[0];t[a].DisplayPath=e,t[a].SavePath=i})},addCardFn:function(){for(var a=this,t=/\S/,n=[{name:this.name,msg:"真实姓名"},{name:this.cardName,msg:"银行名称"},{name:this.bank,msg:"开户行"},{name:this.number,msg:"卡号"}],e=0;e<n.length;e++)if(!t.test(n[e].name))return this.verifyTxt=n[e].msg+"是必填项",void(this.verify=!0);var i=null;i=1==this.start?{DrId:this.DrId,CardNo:this.number,Name:this.name,BankName:this.cardName,OpenBank:this.bank,BankImg:this.bl.SavePath}:{DrBankCardId:this.DrBankCardId,DrId:this.DrId,CardNo:this.number,Name:this.name,BankName:this.cardName,OpenBank:this.bank,BankImg:this.bl.SavePath},this.$post("/PlatFormAPI/Doctor/SaveDoctorBankCard",i).then(function(t){if(t){a.type="1s",1==a.start?a.verifyTxt="添加成功":a.verifyTxt="修改成功",a.verify=!0;var n=a;setTimeout(function(){n.$router.push({path:"/Center/card",name:"card",params:{id:n.DrId}})},500)}})},toUpdate:function(){-1!==navigator.userAgent.indexOf("iPhone")?(this.appleTn=!0,this.AndroidTn=!1):(this.appleTn=!1,this.AndroidTn=!0)}},created:function(){this.toUpdate()}}),o=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("main",{staticClass:"main pdt",attrs:{id:"income"}},[n("div",{staticClass:"title"},[n("back"),a._v(" "),n("span",{staticClass:"name"},[a._v(a._s(a.baName))]),a._v(" "),n("a")],1),a._v(" "),n("div",[n("div",{staticClass:"man-grid"},[n("div",{staticClass:"item"},[n("span",[a._v("用户姓名")]),a._v(" "),n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"name"}],staticClass:"txt",attrs:{placeholder:"请输入您的真实姓名",contenteditable:"true"},domProps:{value:a.name},on:{input:function(t){t.target.composing||(a.name=t.target.value)}}})])]),a._v(" "),n("div",{staticClass:"item"},[n("span",[a._v("银行名称")]),a._v(" "),n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:a.cardName,expression:"cardName"}],staticClass:"txt",attrs:{placeholder:"请输入银行名称全称",contenteditable:"true"},domProps:{value:a.cardName},on:{input:function(t){t.target.composing||(a.cardName=t.target.value)}}})])]),a._v(" "),n("div",{staticClass:"item"},[n("span",[a._v("开户行")]),a._v(" "),n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:a.bank,expression:"bank"}],staticClass:"txt",attrs:{placeholder:"请输入开卡支行",contenteditable:"true"},domProps:{value:a.bank},on:{input:function(t){t.target.composing||(a.bank=t.target.value)}}})])]),a._v(" "),n("div",{staticClass:"item"},[n("span",[a._v("卡号")]),a._v(" "),n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:a.number,expression:"number"}],staticClass:"txt",attrs:{placeholder:"请输入您的银行卡号",contenteditable:"true"},domProps:{value:a.number},on:{input:function(t){t.target.composing||(a.number=t.target.value)}}})])])])]),a._v(" "),n("div",{staticClass:"card-btn"},[n("span",{staticClass:"btn",on:{click:a.addCardFn}},[a._v("保存")])]),a._v(" "),n("toast",{attrs:{type:a.type,name:"show",time:1e3},model:{value:a.verify,callback:function(t){a.verify=t},expression:"verify"}},[a._v(a._s(a.verifyTxt))])],1)},m=[],l={render:o,staticRenderFns:m},c=l,p=n("VU/8"),v=e,u=p(d,c,!1,v,"data-v-1e2d84d2",null);t.default=u.exports},"6iKN":function(a,t,n){var e=n("C1Bz");"string"==typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);n("rjj0")("70750acd",e,!0,{})},C1Bz:function(a,t,n){t=a.exports=n("FZ+f")(!1),t.push([a.i,"\n.title i[data-v-1e2d84d2] {\n  margin-left: 0.26667rem;\n}\n.btn[data-v-1e2d84d2] {\n  width: 7.33333rem;\n  height: 1.13333rem;\n  display: block;\n  text-align: center;\n  line-height: 1.13333rem;\n  margin: 0 auto;\n  border-radius: 0.53333rem;\n  background-color: #3069cf;\n  color: #fff;\n  font-size: 17px;\n}\n.NoCard[data-v-1e2d84d2] {\n  padding: 0.4rem 0.53333rem;\n  background-color: #fff;\n  text-align: center;\n  margin-top: 1.33333rem;\n}\n.NoCard span[data-v-1e2d84d2] {\n    display: block;\n}\n.NoCard span[data-v-1e2d84d2]:last-child {\n    width: 2.4rem;\n    height: 0.66667rem;\n    line-height: 0.66667rem;\n    border-radius: 0.10667rem;\n    margin: 0 auto;\n    margin-top: 0.4rem;\n    background-color: #2a6dc9;\n    color: #fff;\n}\n.card-btn[data-v-1e2d84d2] {\n  margin-top: 0.26667rem;\n  background-color: #fff;\n  padding: 0.4rem 0.53333rem;\n}\n.man-grid[data-v-1e2d84d2] {\n  margin-top: 1.33333rem;\n  background-color: #fff;\n  padding: 0 0.53333rem;\n}\n.man-grid .item[data-v-1e2d84d2] {\n    padding: 0.4rem 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    border-bottom: 1px solid #f3f3f3;\n}\n.man-grid .item span[data-v-1e2d84d2] {\n      position: relative;\n}\n.man-grid .item span[data-v-1e2d84d2]:first-child {\n      width: 60px;\n      margin-right: 0.26667rem;\n}\n.man-grid .item .toUpdate[data-v-1e2d84d2] {\n      position: absolute;\n      right: -0.46667rem;\n      top: 0rem;\n}\n.man-grid .item .toUpdate img[data-v-1e2d84d2] {\n        width: 0.46667rem;\n}\n.man-grid .item .toUpdate input[data-v-1e2d84d2] {\n        width: 0.46667rem;\n        height: 100%;\n        opacity: 0;\n        height: 100%;\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n}\n.man-grid .item[data-v-1e2d84d2]:last-child {\n    border-bottom: 0px solid;\n}\n",""])}});