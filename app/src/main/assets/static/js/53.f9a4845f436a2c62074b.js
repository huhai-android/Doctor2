webpackJsonp([53],{"+ylS":function(t,n,e){"use strict";function a(t){e("ZmvF")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("pKZN"),s=e("8pLc"),o=(i.a,s.a,{components:{back:i.a,noData:s.a},data:function(){return{title:"我的检查单",user:this.$store.state.userInfo.Data,haveMore:!0,page:1,list:[],reason:[],pageShow:!1,sorList:["日期不限","检查状态","交易状态"],dateList:[{name:"日期不限",val:"-1"},{name:"最近一周",val:"1"},{name:"最近一个月",val:"2"},{name:"最近半年",val:"3"},{name:"最近一年",val:"4"}],statusList:[{name:"全部状态",val:"-1"},{name:"待检查",val:"1"},{name:"已检查",val:"2"},{name:"已关闭",val:"3"}],buyList:[{name:"全部状态",val:"-1"},{name:"未支付",val:"0"},{name:"已支付",val:"2"},{name:"已退款",val:"5"},{name:"已关闭",val:"8"}],date:{name:"日期不限",val:"-1"},status:{name:"全部状态",val:"-1"},buy:{name:"全部状态",val:"-1"},idx:null,search:""}},created:function(){this.pull(!1)},mounted:function(){this.getMore()},beforeDestroy:function(){window.onscroll=null},methods:{searchFor:function(){this.page=1,this.haveMore=!0,this.pull(!1)},pull:function(t){var n=this;this.haveMore&&this.$post("InspectionAPI/Censorate/QueryDrCensorateRecordPage",{DrId:this.user.User.DoctorId,DateRangeType:this.date.val,PayStatus:this.buy.val,CheckStatus:this.status.val,PageIndex:this.page,PageSize:15,KeyName:this.search}).then(function(e){n.pageShow=!0,!e.ReturnData||e.ReturnData.length<15?n.haveMore=!1:n.haveMore=!0,t?e.ReturnData.forEach(function(t){n.list.push(t)}):(n.list=e.ReturnData,n.$nextTick(function(){window.scrollTo(0,5)}))})},sort:function(t){this.idx==t?this.idx=null:this.idx=t},chose:function(t){this.date=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},chose1:function(t){this.status=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},chose2:function(t){this.buy=t,this.sorList[this.idx]=t.name,this.idx=null,this.haveMore=!0,this.page=1,this.pull(!1)},getMore:function(){var t=this,n=this.$refs.el,e=null;window.onscroll=function(){clearTimeout(e),e=setTimeout(function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;n.scrollHeight-e-window.innerHeight<100&&t.haveMore&&(t.page+=1,t.pull(!0))},100)}}}}),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"el",staticClass:"container pdt"},[e("div",{staticClass:"title"},[e("back"),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.title))]),t._v(" "),e("a")],1),t._v(" "),!t.list.length&&t.pageShow?e("no-data",{attrs:{txt:"暂无检查单信息"}}):t._e(),t._v(" "),e("div",{staticClass:"searchBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"输入患者姓名"},domProps:{value:t.search},on:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.searchFor(n):null},input:function(n){n.target.composing||(t.search=n.target.value)}}}),t._v(" "),e("i"),t._v(" "),e("span",{staticClass:"btn",on:{click:t.searchFor}},[t._v("搜索")])]),t._v(" "),e("div",{staticClass:"sort"},t._l(t.sorList,function(n,a){return e("p",{key:a,on:{click:function(n){t.sort(a)}}},[t._v(t._s(n)),e("i")])})),t._v(" "),1===t.idx?e("div",{staticClass:"sortList"},t._l(t.statusList,function(n,a){return e("p",{key:a,class:{on:t.status==n},on:{click:function(e){t.chose1(n)}}},[t._v("\n                "+t._s(n.name)+"\n                "),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),0===t.idx?e("div",{staticClass:"sortList"},t._l(t.dateList,function(n,a){return e("p",{key:a,class:{on:t.date==n},on:{click:function(e){t.chose(n)}}},[t._v("\n                "+t._s(n.name)+"\n                "),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),2===t.idx?e("div",{staticClass:"sortList"},t._l(t.buyList,function(n,a){return e("p",{key:a,class:{on:t.buy==n},on:{click:function(e){t.chose2(n)}}},[t._v("\n\t\t        "+t._s(n.name)+"\n\t\t        "),e("i",{staticClass:"check"})])})):t._e(),t._v(" "),t._l(t.list,function(n,a){return e("div",{key:a,staticClass:"card",on:{click:function(e){t.$router.push("/inspect/PrescriptionLlist?CensorateRecordId="+n.CensorateRecordId)}}},[e("div",{staticClass:"info"},[e("p",{staticClass:"tit"},[e("span",[t._v("拟诊： "+t._s(n.ClinicImpression||"无"))]),t._v(" "),e("span",{staticClass:"payStatus"},[t._v("\n                       "+t._s(0==n.PayStatus?"未支付":1==n.PayStatus?"支付中":2==n.PayStatus?"已支付":3==n.PayStatus?"支付失败":4==n.PayStatus?"退款中":5==n.PayStatus?"已退款":6==n.PayStatus?"退款失败":7==n.PayStatus?"已取消":8==n.PayStatus?"已关闭":"")+"\n                    ")])]),t._v(" "),e("p",[e("span",[t._v("患者："+t._s(n.PatientName))])]),t._v(" "),e("p",[e("span",[t._v("性别："+t._s(t._f("toSex")(n.PatientSex)))])]),t._v(" "),e("p",[e("span",[t._v("检查单号："+t._s(n.BillNo))])]),t._v(" "),e("i",{staticClass:"arrow"})]),t._v(" "),e("div",{staticClass:"doctor"},[e("p",[t._v("医生名称："+t._s(n.DrName||"无"))]),t._v(" "),e("p",[t._v("开单时间： "+t._s(n.CreateTime||"无"))])]),t._v(" "),n.RejectReasonId?e("p",{staticClass:"reject"},[t._v("驳回理由："+t._s(n.AuditRemark))]):t._e()])}),t._v(" "),null!==t.idx?e("div",{staticClass:"mask",on:{click:function(n){t.idx=null}}}):t._e()],2)},c=[],l={render:r,staticRenderFns:c},d=l,p=e("VU/8"),u=a,h=p(o,d,!1,u,"data-v-26820a53",null);n.default=h.exports},NzrC:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABx0lEQVQ4T6XTMWiTQRQH8P+7i9mkZgxVFCsiiIOLg5ubdtClZhIsIbl3EMTBVeFz6SxC8F1iyKC2ToIgDnbT6uDSLoVqQREHg4q4KJjk+558ISlfam2L3vjd+37v3nt3hP9clP0/hLAHwGVVZSL6oaqGiH4BeAkgMPOnzfk2gGazuT9Jkqeq+iKfz0flcvlLGhxCmABwEcANIqo5555kkQGQZlbV58aYa865V1tVFUI4BmCRiM4651ZHMQNARK4SUYGZo+1aIiLTAK5770+PASGEZQDTW9W4GRSRNWPMeefc23SPoijKFYvFD8w8uZuBiEgdwJL3fmEAtFqtvb1eb8V7P7VLYI6I3jHz3QEwbOJnAIeY+edOiIg8AnDHe7+YBRZU9Zn3vr0d0G6393W73fVCoTBZKpW6WeAEgMcATjHz178hIjJPRG+Y+ebYFIajvEJE3O/3z9VqtY9ZpNFoHE2S5DYRHSSimT/uwSg4hJDeuDkArwGsp99V9QiAC0QUjDG34jh+YK2drVar7zdKyGZTVRKR49bak6p6WFW/53K5e5VK5duw4UVVfRjH8aX0pGOPaacJjPbr9foBa+39Tqdz5p+AbKLfTWq1k8Zd3vYAAAAASUVORK5CYII="},ZmvF:function(t,n,e){var a=e("x5Mw");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("3f55ad87",a,!0,{})},x5Mw:function(t,n,e){var a=e("kxFB");n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.searchBox[data-v-26820a53] {\n  background: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  height: 1.06667rem;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  position: fixed;\n  top: 1.2rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  border-top: 1px #eee solid;\n}\n.searchBox input[data-v-26820a53] {\n    height: 60%;\n    width: 60%;\n    border: 1px solid #ececec;\n    border-radius: 20px;\n    padding: 0 0.4rem 0 0.8rem;\n    font-size: 14px;\n}\n.searchBox i[data-v-26820a53] {\n    display: block;\n    width: 0.4rem;\n    height: 0.4rem;\n    background: url("+a(e("NzrC"))+") no-repeat center;\n    background-size: contain;\n    position: absolute;\n    left: 1.33333rem;\n    top: 0.33333rem;\n}\n.searchBox span[data-v-26820a53] {\n    background: #3069cf;\n    color: #fff;\n    font-size: 14px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 0.66667rem;\n    border-radius: 10px;\n    width: 1.33333rem;\n    margin-left: 0.4rem;\n}\n.sort[data-v-26820a53] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 0.93333rem;\n  border-bottom: 1px solid #ececec;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  background: #fff;\n  position: fixed;\n  top: 2.26667rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  font-size: 14px;\n}\n.sort p[data-v-26820a53] {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    height: 100%;\n}\n.sort p i[data-v-26820a53] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+a(e("usbB"))+") no-repeat center;\n      margin-left: 0.26667rem;\n}\n.pdt[data-v-26820a53] {\n  padding-top: 3.2rem;\n}\n.card[data-v-26820a53] {\n  background: #fff;\n  padding: 0.26667rem 0;\n  margin: 0.26667rem;\n  border-radius: 10px;\n}\n.card p[data-v-26820a53] {\n    padding: 0.13333rem 0.4rem;\n    color: #999;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    font-size: 14px;\n}\n.card .tit[data-v-26820a53] {\n    color: #333;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.card .tit span[data-v-26820a53] {\n      font-size: 16px;\n}\n.card .tit .payStatus[data-v-26820a53] {\n      color: #3069cf;\n      display: inline-block;\n}\n.card .status[data-v-26820a53] {\n    color: #fda222;\n}\n.card .info[data-v-26820a53] {\n    border-bottom: 1px solid #ececec;\n    padding-bottom: 0.26667rem;\n    position: relative;\n}\n.card .doctor[data-v-26820a53] {\n    padding: 0.26667rem 0;\n}\n.card .reject[data-v-26820a53] {\n    border-top: 1px solid #ececec;\n    padding-top: 0.26667rem;\n    color: #ff2631;\n}\n.card .arrow[data-v-26820a53] {\n    display: block;\n    width: 0.66667rem;\n    height: 0.66667rem;\n    background: url("+a(e("b9hs"))+") no-repeat center;\n    background-size: contain;\n    margin-left: 0.13333rem;\n    position: absolute;\n    right: 0.26667rem;\n    top: 1.6rem;\n}\n.sortList[data-v-26820a53] {\n  max-height: 7.73333rem;\n  overflow: scroll;\n  padding: 0 0.66667rem;\n  font-size: 14px;\n  background: #fff;\n  position: fixed;\n  top: 3.2rem;\n  left: 0;\n  right: 0;\n  z-index: 2;\n}\n.sortList p[data-v-26820a53] {\n    height: 0.93333rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    color: #999;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n.sortList .on[data-v-26820a53] {\n    color: #3069cf;\n}\n.sortList .on .check[data-v-26820a53] {\n      display: block;\n      width: 0.4rem;\n      height: 0.4rem;\n      background: url("+a(e("rNPe"))+") no-repeat center;\n      background-size: contain;\n}\n.mask[data-v-26820a53] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n}\n",""])}});